<!DOCTYPE html>
<html>
    <head><title>The Grid Game</title></head>
</html>
<html>
    <head>
        <title>The Grid Game</title>
        <style>
            .h1Heading {
                color: white;
            }
            body {
                z-index:1;
                background-image: url('https://www.pngall.com/wp-content/uploads/13/Grid-PNG-Image-HD.png');
                background-color: rgb(173, 173, 173);
            }
            .mainMenu {
                margin-top:-110%;
                animation: menuFallDown 0.7s linear(0 0%, 0.16 1.78%, 0.22 2.1%, 0.86 6.5%, 1.11 8.6%, 1.3 10.7%, 1.35 11.8%, 1.37 12.9%, 1.37 13.7%, 1.36 14.5%, 1.32 16.2%, 1.03 21.8%, 0.94 24%, 0.89 25.9%, 0.88 26.85%, 0.87 27.8%, 0.87 29.25%, 0.88 30.7%, 0.91 32.4%, 0.98 36.4%, 1.01 38.3%, 1.04 40.5%, 1.05 42.7%, 1.05 44.1%, 1.04 45.7%, 1 53.3%, 0.99 55.4%, 0.98 57.5%, 0.99 60.7%, 1 68.1%, 1.01 72.2%, 1 86.7%, 1 100%) forwards 1;
                text-align: center;
                font-family: Georgia, 'Times New Roman', Times, serif;
            }
            @keyframes menuFallDown {
                0% {
                    margin-top:-100%;
                }
                100%{
                    margin-top:0%;
                }
            }
            .mainMenuSectionHeadings {
                color:white;
                font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
            }
        .spellSection {
                border:3px solid black;
                border-radius: 5%;
                width:390px;
                height:550px;
                margin:3%;
                background-color: rgb(70, 70, 244);
                position: relative;
                float: left;
            }
                .spellSubmitBtn {
                    background-color: rgb(70, 70, 244);
                    color:white;
                    cursor: pointer;
                }
                .spellChoiceStyle {
                    border-style:solid;
                    border-color:black;
                    border-width:3px;
                    margin:2%;
                    width:170px;
                    height:170px;
                    float:left;
                    position: relative;
                }
                #spellDropdown {
                    background-color: blue;
                    color:white;
                }
                .ingameSpellStyle {
                    display:flex;
                    flex:inherit;
                    height:100%;
                    width:70%;
                }
                .spellImages {
                    width:100%;
                    height:87%;
                    background-color: transparent;
                    border-width: 0px;
                    opacity: 0;
                }
                .spellImagesReveal{
                    opacity: 1;
                }
                .spellDescriptionStyle {
                    color: white;
                    font-size: 15px;
                    font-family:'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif
                }
        .gameModeSection {
                border:3px solid black;
                border-radius: 5%;
                width:100%;
                height:320px;
                background-color: lime;
                position: relative;
                float:top;
            }
        .gameModeANDPlayColumn {
                z-index: 3;
                width:250px;
                height:320px;
                margin-top:3%;
                position: relative;
                float:left;
           }
                .multiplayerGameMode {
                    color:rgb(230, 71, 71);
                    cursor: pointer;
                }
                .endlessGameMode {
                    color:rgb(255, 179, 0);
                    cursor: pointer;
                }
                .protectGameMode {
                    color:rgb(197, 80, 205);
                    cursor: pointer;
                }
                .standardGameMode{
                    color:rgb(120, 88, 88);
                    cursor:pointer;
                }
                .timedGameMode {
                    color:rgb(48, 147, 128);
                    cursor: pointer;
                }
                .custonGameMode {
                    color:rgb(16, 107, 0);
                    cursor:pointer;
                }
                .difficultyDiv {
                    display: none;
                }
        .abilitySection {
                border:3px solid black;
                border-radius: 5%;
                width:250px;
                height:500px;
                margin:3%;
                margin-right:1%;
                margin-left:2%;
                background-color: red;
                position: relative;
                float:left;
            }
                .abilitySelectionDiv {
                    width:250px;
                    height:500px;
                }
                .abilityOptionsDivsTitle {
                    width:100px;
                    margin:10px;
                    cursor: pointer;
                    display: inline-block;
                }
                .abilityOptionsDivs {
                    width:100px;
                    height:100px;
                    border-width: 3px;
                    border-color: rgb(187, 187, 187);
                    border-style: dashed;
                }
                .selectedAbilityReminder {
                    position: relative;
                    float: left;
                    bottom:550px;
                    left: 100px;
                    cursor:default;
                }
                .abilityImages {
                    width: 100%;
                    height: 100%;
                    margin:0px;
                }
                .generatedAbilityImage {
                    width: 100%;
                    height: 100%;
                    margin:0px;
                }
                .abilityDescription {
                    width: 150%;
                    float:left;
                }
                    .goToGameBtn {
                        position: relative;
                        margin:auto;
                        margin-top: 30px;
                        padding:10px;
                        font-size: 100px;
                        background-color: rgb(51, 197, 51);
                        cursor:all-scroll;
                        border-radius: 7%;
                        color:white;
                        font-family: Georgia, 'Times New Roman', Times, serif;
                    }
                    .goToGameBtn:hover{
                        animation: buttonColorChange 0.2s ease-in-out forwards infinite alternate;
                        color:black;
                    }
                    @keyframes buttonColorChange {
                        0% {
                            background-color: rgb(51, 197, 51);
                        }
                        20% {
                            background-color:red;
                            margin-top:20px;
                            margin-right: 7px;
                            padding:15px;
                            transform: rotate(10deg);
                        }
                        40% {
                            background-color: yellow;
                            margin-top:23px;
                            margin-right: -4px;
                        }
                        60% {
                            background-color: rgb(255, 0, 208);
                            margin-top:17px;
                            margin-right: 12px;
                            padding:10px;
                            transform: rotate(-8deg);
                        }
                        80% {
                            background-color: brown;
                            margin-top:-8px;
                            margin-right: -1px;
                            padding:15px;
                            transform: rotate(5deg);
                        }
                        100% {
                            background-color: blue;
                            margin-top:20px;
                            margin-right: 7px;
                            transform: rotate(-7deg);
                        }
                    }
            .shopSection {
                border:3px solid black;
                border-radius: 5%;
                width:220px;
                height:500px;
                margin-top:3%;
                background-color: rgb(201, 201, 0);
                position: relative;
                float:left;
            }
                        .welcome {
                            font-family:Georgia, 'Times New Roman', Times, serif;
                            text-align:center;
                            color:white;
                        }
                        .name {
                            font-family: fantasy;
                            text-align:center;
                            color:white;
                        }
                        .js-start-Btn {
                            display:block;
                            padding:20px;
                            font-size: 20px;
                            margin: auto;
                        }
                        .js-start-Btn-animation {
                            animation: startBtnMoving 5s cubic-bezier(0.42, 0, 0.63, 1.63) forwards infinite alternate;
                        }
                        @keyframes startBtnMoving {
                            0%{
                                transform: translateX(-120px) translateY(-120px);
                            }
                            10% {
                                transform: translateX(-400px) translateY(-300px);
                            }
                            24%{
                                transform: translateX(40px) translateY(200px);
                            }
                            28%{
                                transform: translateY(-300px);
                            }
                            49%{
                                transform: translateX(370px) translateY(127px);
                            }
                            70%{
                                transform: translateX(-37px) translateY(10px);
                            }
                            84%{
                                transform: translateX(140px) translateY(-198px);
                            }
                            100%{
                                transform: translateX(500px) translateY(-200px)
                            }
                        }
                        .backToGameModes:hover{
                            color: rgb(228, 13, 228);
                            text-decoration: underline;
                        }
                        .backToGameModes:hover{
                            color: rgb(228, 13, 228);
                            text-decoration: underline;
                        }
                        .startBtnSpeech {
                            font-size: 150px;
                            color: rgb(58, 224, 86);
                            text-align: center;
                        }

            .nonMultiplayerGame {
                z-index:1;
                display: none;
                height:100%;
                width:100%;
            }
                .interactableGame {
                    position:relative;
                    float:left;
                    height:736px;
                    width:736px;
                    border: 2px solid black;
                    }
                    .gridDivs {
                        height:90px;
                        width:90px;
                        position:relative;
                        display:inline-block;
                        border: 1px solid black;
                        margin:none;
                        margin-bottom:-4px;
                    }
                    .barrierAlert {
                        color: red;
                        float: inline-start;
                        margin-top: 3px;
                    }
                .spellsForGame {
                    width:100%;
                    height:70%;
                    border-color: black;
                    border-width: 3px;
                    border-radius: 2%;
                    margin:2px;
                    background-color: rgb(70, 70, 244);
                }
                .spellCastBtn {
                    background-color: rgb(70, 70, 244);
                    color:white;
                    cursor:pointer;
                    position:relative;
                    float:left;
                    font-size:25px;
                    height:100%;
                    width:20%;
                }
                .line-up-spells {
                    display:flex;
                    flex:inherit;
                    height:24%;
                    width:100%;
                }
                .spellImageSquareFit {
                    width:100%;
                    height:100%;
                    margin:0px;
                }
                .avatarPic {
                    width:95%;
                    height:95%;
                    margin:-3px;
                }
                .spellIncognito {
                    display: none;
                    position:relative;
                    z-index:2;
                }
                .puzzleGames {
                    position:relative;
                    display:inline-block;
                    height:400px;
                    width:30%;
                    margin:5px;
                    border: 2px solid black;
                    background-color: lightblue;
                }

                .usablesColumn {
                    position:relative;
                    float:left;
                    width:150px;
                    height:800px;
                    margin:1%;
                }
                .itemsDiv {
                    position:relative;
                    display:inline-block;
                    height:25%;
                    width:100%;
                    margin:5px;
                    border: 2px solid black;
                    background-color: yellow;
                }
                .collectedItemDivs {
                    margin: 1px;
                    float:left;
                    position:relative;
                    width:inherit;
                    height:inherit;
                    border-style:dashed;
                    border-width:2px;
                    border-color:black;
                }
                .collectedItemDes {
                    position:absolute;
                    margin-top:-15px;
                    width:150px;
                    height:100px;
                    border:white 2px double;
                    background-color: black;
                    display:none;
                    float:left;
                    overflow:auto;
                }
                .itemDestxt{
                    margin:none;
                    width:inherit;
                    height:inherit;
                    overflow:auto;
                }
                .gameStats {
                    position:relative;
                    float:left;
                    height:70%;
                    width:30%;
                    margin:5px;
                    border: 2px solid black;
                    background-color: lightgray;
                }
                .puzzleImagesFit {
                    height:80%;
                    width:100%;
                }
        .zombieFace {
            z-index: 2;
                width:100vw;
                height:100vh;
                    background-color: rgba(100, 7, 0, 0.688);
                    position: absolute;
                    display:none;
                    animation: zombieScreenBlink 0.7s alternate infinite;
                }
                @keyframes zombieScreenBlink {
                    0%{
                        opacity:1;
                    } 100% {
                        opacity:0.2;
                    }
                }
                .outerCirclePuzzle6 {
                    display:flex;
                    margin-left:20%;
                    margin-top:-10%;
                    background: rgb(21, 255, 0);
                    width:300px;
                    height:300px;
                    justify-content: center;
                    align-items: center;
                    border-radius:100%;
                    border-width:10px;
                }
                .innerCirclePuzzle6{
                    margin:auto;
                    width:100px;
                    height:100px;
                    background: rgba(214, 4, 196, 0.475);;
                    position:absolute;
                    border-radius:100%;
                }
                .outerCirclePuzzle6Animation1 {
                    animation: actualOuterCirclePuzzle6Animation1 2s linear forwards infinite;
                }
                .outerCirclePuzzle6Animation2 {
                    animation: actualOuterCirclePuzzle6Animation2 2.5s linear forwards infinite;
                }
                .outerCirclePuzzle6Animation3 {
                    animation: actualOuterCirclePuzzle6Animation3 1s linear forwards infinite;
                }
                .outerCirclePuzzle6Animation4 {
                    animation: actualOuterCirclePuzzle6Animation4 5s linear forwards infinite;
                }
                @keyframes actualOuterCirclePuzzle6Animation1 {
                    0%{width:300px;
                        height:300px;}
                    100%{
                        width:1px;
                        height:1px;
                        margin-left:50%;
                        margin-top:50%;}
                }
                @keyframes actualOuterCirclePuzzle6Animation2 {
                    0%{width:300px;
                        height:300px;}
                    100%{
                        width:1px;
                        height:1px;
                        margin-left:50%;
                        margin-top:50%;}
                }
                @keyframes actualOuterCirclePuzzle6Animation3 {
                    0%{width:300px;
                        height:300px;}
                    100%{
                        width:1px;
                        height:1px;
                        margin-left:50%;
                        margin-top:50%;}
                }
                @keyframes actualOuterCirclePuzzle6Animation4 {
                    0%{width:300px;
                        height:300px;}
                    100%{
                        width:1px;
                        height:1px;
                        margin-left:50%;
                        margin-top:50%;}
                }
                .puzzle8circle {
                    background-color: white;
                    position:absolute;
                    border-radius: 100%;
                    border-color:black;
                    text-align: center;
                    width:25px;
                    height:25px;
                    top:45%;
                }
                .puzzle8path {
                    background-color: white;
                    display:none;
                }
                .puzzle8path1 {
                    position:absolute;
                    top:45%;
                    width:200px;
                    height:25px;
                }
                .puzzle8path2 {
                    position:absolute;
                    top:45%;
                    width:20px;
                    height:70px;
                    left:180px;
                }
                .puzzle8path3 {
                    position:absolute;
                    top:57.7%;
                    left:200px;
                    width:100px;
                    height:15px;
                }
                .puzzle8path4 {
                    position:absolute;
                    top:26.7%;
                    left:265px;
                    width:10px;
                    height:150px;
                    transform:rotate(-20deg)
                }
                .puzzle8path5 {
                    position:absolute;
                    top:9%;
                    left:330px;
                    width:5px;
                    height:180px;
                    transform:rotate(95deg)
                }
                .puzzle8goal {
                    display:none;
                    background-color: lime;
                    position:absolute;
                    top:30%;
                    left:93.5%;
                    width:5%;
                    height:5%;
                }
                .coinflipDiv {
                    position:absolute;
                    top:50%;
                    border-radius:100%;
                    height:40%;
                    width:40%;
                    background-color: yellow;
                }
                .coinflipWin{
                    animation: coinflipW 5s linear forwards 1;
                }
                .coinflipLose {
                    animation: coinflipL 5s linear forwards 1;
                }
                @keyframes coinflipW {
                    0%{height: 40%; top:30%; background-color: yellow;}
                    10%{height: 0.1%;}
                    15%{height: 40%; background-color: red;}
                    20%{height: 0.1%; }
                    25%{height: 40%; background-color: yellow;}
                    30%{height: 0.1%; }
                    35%{height: 40%; background-color: red;}
                    40%{height: 0.1%;}
                    45%{height: 40%; background-color: yellow;}
                    50%{height: 0.1%;}
                    55%{height: 40%; background-color: red;}
                    60%{height: 0.1%;}
                    65%{height: 40%; background-color: yellow;}
                    70%{height: 0.1%; }
                    75%{height: 40%; background-color: red;}
                    80%{height: 0.1%;}
                    85%{height: 40%; background-color: yellow;}
                    90%{height: 0.1%; background-color: red;}
                    100%{height: 40%; top:50%; background-color: yellow;}
                }
                @keyframes coinflipL {
                    0%{height: 40%; top:30%; background-color: yellow;}
                    10%{height: 0.1%;}
                    15%{height: 40%; background-color: red;}
                    20%{height: 0.1%; }
                    25%{height: 40%; background-color: yellow;}
                    30%{height: 0.1%; }
                    35%{height: 40%; background-color: red;}
                    40%{height: 0.1%;}
                    45%{height: 40%; background-color: yellow;}
                    50%{height: 0.1%;}
                    55%{height: 40%; background-color: red;}
                    60%{height: 0.1%;}
                    65%{height: 40%; background-color: yellow;}
                    70%{height: 0.1%; }
                    75%{height: 40%; background-color: red;}
                    80%{height: 0.1%;}
                    85%{height: 40%; background-color: yellow;}
                    90%{height: 0.1%;}
                    100%{height: 40%; top:50%; background-color: red}
                }
                .customPreset {
                    margin:40px;
                    background-color: rgb(221, 221, 221);
                    border-radius: 10%;
                    width:200px;
                    height:200px;
                    position:relative;
                    float:left;
                }
                .customPreset:hover {
                    cursor:pointer;
                    background-color: rgb(193, 250, 179);
                }
                .deathInsuranceCountdown {
                    float:right;
                    position:relative;
                    margin:auto;
                    display:none;
                }
                .cheatSheetDiv {
                    width:150px;
                    height:150px;
                    background-color: none;
                    position:absolute;
                    left:-155px;
                    top:100px;
                    display:none;
                    z-index: 3;
                }
                .cheatSheetImage {
                    width:100%;
                    height:100%;
                }
                .cheatSheetAnim1 {
                    animation: cheatSheetAnimation1 2s cubic-bezier(0.58, 0.48, 0.18, 0.93) forwards 1;
                }
                .cheatSheetAnim2 {
                    animation: cheatSheetAnimation2 2s cubic-bezier(0.6,-0.28, 0.75, 0.18) forwards 1;
                }
                @keyframes cheatSheetAnimation1 {
                    100% {
                        left:200px;
                        top:150px;
                        rotate:20deg;
                    }
                }
                @keyframes cheatSheetAnimation2 {
                    0% {
                        left:200px;
                        top:150px;
                    }
                    70% {
                        rotate:-10deg;
                    }
                    100%{
                        rotate:-500deg;
                        left:-155px;
                        top:100px;
                    }
}
.menuTutorial {
    z-index:3;
    display:none;
    height:100vh;
    width:100vw;
    position:absolute;
}
.tutorialDiv {
    width:100%;
    height:100%;
    display:none;
    position:absolute;
}
.tutorialGrid {
    position:relative;
    float:left;
    height:736px;
    width:736px;
    border: 2px solid black;
}
.tContinueBtn {
    position:absolute;
    bottom:0;
}
.tutorialTextDiv {
    position:absolute;
    right:10%;
    background-color: black;
    color:white;
    height:300px;
    width:400px;
    border:white 4px;
    border-radius:10%;
    border-style:double;
    z-index:5;
}
.tutorialUsablesColumn {
    position:relative;
    float:left;
    width:12%;
    height:100%;
    margin:1%;
    display:none;
}
.tPuzzleGames {
    position:relative;
    height:500px;
    width:30%;
    margin:5px;
    border: 2px solid black;
    background-color: lightblue;
    display:none;
}
.tGameStats {
    position:relative;
    float:left;
    height:22%;
    width:30%;
    margin:5px;
    border: 2px solid black;
    background-color: lightgray;
    display:none;
}
.tItemsDiv {
    position:relative;
    display:inline-block;
    height:25vh;
    width:100%;
    margin:5px;
    border: 2px solid black;
    background-color: yellow;
    display:none;
}
.mobileArrowsDiv {
    position:absolute;
    float:left;
    left:0;
    top:200px;
    height:210px;
    width:350px;
    display:none;

}
.mobileArrows {
    margin:auto;
    height:90px;
    width:90px;
    border:rgba(117, 117, 117, 0.766) inset 3px;
    font-size:100px;
}
.mobileArrowsOutsideBox {
    padding:2px;
    margin:2.5px;
    background-color: rgba(134, 134, 134, 0.489);
    height:100px;
    width:100px;
    float:left;
    text-align: center;
}
.mobileArrowsUpANDDown {
    float:left;
    height:205px;
    width:110px;
}
.mobilePunchDiv {
    position:absolute;
    float:left;
    left:350px;
    top:200px;
    height:210px;
    width:350px;
}
    </style>
    </head>
    <body class="fullscreen">
        <div class="mainMenu">
            <img class="menuTutorial" src="/Users/chasemansfield/Downloads/Grid Game Tutorial.pdf">
            <h1 class="h1Heading">Main Menu</h1>
            <div class="spellSection">
                <h2 class="mainMenuSectionHeadings">Select 4 Spells</h2>
                <p class="spellDescriptionStyle">**Please note that you will always have the following actions:</p>
                <p class="spellDescriptionStyle">Punch: You can attack anything adjacent to you</p>
                <p class="spellDescriptionStyle">Walk: You can move to an open adjacent space</p>
                <div class="spellChoice1 spellChoiceStyle">
                    <select data-id="1" id="spellDropdown1">
                        <option value="0">Spell 1</option>
                        <option value="Dash">Dash (3)</option>
                        <option value="Sword">Sword (3)</option>
                        <option value="Ghost">Ghost (5)</option>
                        <option value="Control">Control (5)</option>
                        <option value="Sunbeam">Sunbeam (6)</option>
                        <option value="Teleporter">Teleporter (7)</option>
                        <option value="Bomb">Bomb (7)</option>
                        <option value="Wall">Wall (8)</option>
                        <option value="Remote">Remote (10)</option>
                    </select>
                    <button onclick="checkSpell1()" class="spellSubmitBtn">submit</button>
                    <img class="spellImage1 spellImages" src="" alt="-">
                </div>
                <div class="spellChoice2 spellChoiceStyle">
                    <select onclick="console.log('spell dropdown working')" data-id="2" id="spellDropdown2">
                        <option value="0">Spell 2</option>
                        <option value="Dash">Dash (3)</option>
                        <option value="Sword">Sword (3)</option>
                        <option value="Ghost">Ghost (5)</option>
                        <option value="Control">Control (5)</option>
                        <option value="Sunbeam">Sunbeam (6)</option>
                        <option value="Teleporter">Teleporter (7)</option>
                        <option value="Bomb">Bomb (7)</option>
                        <option value="Wall">Wall (8)</option>
                        <option value="Remote">Remote (10)</option>
                    </select>
                    <button onclick="checkSpell2()" class="spellSubmitBtn">submit</button>
                    <img class="spellImage2 spellImages" src="" alt="-">
                </div>
                <div class="spellChoice3 spellChoiceStyle">
                    <select onclick="console.log('spell dropdown working')" data-id="3" id="spellDropdown3">
                        <option value="0">Spell 3</option>
                        <option value="Dash">Dash (3)</option>
                        <option value="Sword">Sword (3)</option>
                        <option value="Ghost">Ghost (5)</option>
                        <option value="Control">Control (5)</option>
                        <option value="Sunbeam">Sunbeam (6)</option>
                        <option value="Teleporter">Teleporter (7)</option>
                        <option value="Bomb">Bomb (7)</option>
                        <option value="Wall">Wall (8)</option>
                        <option value="Remote">Remote (10)</option>
                    </select>
                    <button class="spellSubmitBtn" onclick="checkSpell3()">submit</button>
                    <img class="spellImage3 spellImages" src="" alt="-">
                </div>
                <div class="spellChoice4 spellChoiceStyle">
                    <select onclick="console.log('spell dropdown working')" data-id="4" id="spellDropdown4">
                        <option value="0">Spell 4</option>
                        <option value="Dash">Dash (3)</option>
                        <option value="Sword">Sword (3)</option>
                        <option value="Ghost">Ghost (5)</option>
                        <option value="Control">Control (5)</option>
                        <option value="Sunbeam">Sunbeam (6)</option>
                        <option value="Teleporter">Teleporter (7)</option>
                        <option value="Bomb">Bomb (7)</option>
                        <option value="Wall">Wall (8)</option>
                        <option value="Remote">Remote (10)</option>
                    </select>
                    <button onclick="checkSpell4()" class="spellSubmitBtn">submit</button>
                    <img class="spellImage4 spellImages" src="" alt="-">
                </div>
                <h3 class="mainMenuSectionHeadings descriptionsTitle"></h3>
                <p class="spellDescriptionStyle spell1Description"></p>
                <p class="spellDescriptionStyle spell2Description"></p>
                <p class="spellDescriptionStyle spell3Description"></p>
                <p class="spellDescriptionStyle spell4Description"></p>
            <button onclick="RandomizeSpells()">Randomize</button>
            </div>

            <div class="gameModeANDPlayColumn">
            <div class="gameModeSection">
                <div class="selectGameMode">
                <div class="gameModeDiv">
                <h2 class="mainMenuSectionHeadings">Select a Game Mode</h2>
                <span onclick="multiplayerSelected()"><h3 class="multiplayerGameMode">Multiplayer</h3></span>
                <span onclick="endlessSelected()"><h3 class="endlessGameMode">Endless</h3></span>
                <span onclick="protectSelected()"><h3 class="protectGameMode">Protect the Zone</h3></span>
                <h3 class="mainMenuSectionHeadings gameModeReminder"></h3>
                <p class="gameModeDescription mainMenuSectionHeadings"></p>
                </div>
                <div style="display:none;" class="endlessModesDiv">
                    <p class="backToGameModes2" style="text-align: left; cursor: pointer;">&#60--back</p>
                <span onclick="standardSelected()"><h3 class="standardGameMode">Standard</h3></span>
                <span onclick="timedSelected()"><h3 class="timedGameMode">Timed Points</h3></span>
                <span onclick="customSelected()"><h3 class="custonGameMode">Custom</h3></span>
                </div>
                <div class="difficultyDiv">
                    <p class="backToGameModes" style="text-align: left; cursor: pointer;">&#60--back</p>
                    <h2 class="mainMenuSectionHeadings difficultyDivHeadings">Select a Difficulty</h2>
                    <h3 class='gameModeReminder mainMenuSectionHeadings'></h3>
                    <p class="gameModeDescription mainMenuSectionHeadings"></p>
                    <h3 class="easyDifficulty" style="cursor:pointer;color:rgb(0, 174, 255);">Easy</h3>
                    <h3 class="mediumDifficulty" style="cursor:pointer;color:rgb(182, 59, 244);">Medium</h3>
                    <h3 class="hardDifficulty" style="cursor:pointer;color:rgb(255, 71, 71);">Hard</h3>
                    <h3 class="difficultySelected mainMenuSectionHeadings"></h3>
                </div>
                </div>

            </div>
            <div class="gotogame">
                <a class='linkToGame'>
            <button onclick="if (!spell1 || !spell2 || !spell3 || !spell4) {alert('Please finish selecting your spells')} else if (!difficulty || !gameMode) {alert('Please select a game mode and difficulty')} else {pushGrid()}" class="goToGameBtn">PLAY</button>
            </a>
            <script>
                function goToGame() {
                    if (subGameMode !== 'custom' || gameMode !== 'endless') {
                        document.querySelector('.mainMenu').style.display = 'none';
                    } else if (gameMode ==='endless' && subGameMode === 'custom') {
                        document.querySelector('.customGameModeMenu').style.display = 'none';
                    }
                    document.querySelector('.nonMultiplayerGame').style.display = 'block';
                    document.body.style.backgroundImage = 'none';
                    document.body.style.backgroundColor = 'white';
                    runGridCode()
                }
            </script>
            </div></div>

            <button onclick="document.querySelector('.mainMenu').style.display='none'; document.querySelector('.tutorialDiv').style.display='block'">Full Tutorial</button>
            <button onclick="//document.querySelector('.menuTutorial').style.display = 'block'">Menu Tutorial</button>
            <input class="rewardCodeInput" placeholder="reward codes"><button onclick="checkRewardCode()">Submit</button>
            <div class="abilitySection">
                <h2 class="mainMenuSectionHeadings">Select an Ability</h2>
                <div class="abilitySelectionDiv">

                <div class="abilityOptionsDivsTitle" data-ability-id="death-insurance">
                    <h3 class="death-insuranceTitle mainMenuSectionHeadings" style="border-color: rgb(187, 187, 187);">Death insurance</h3>
                    <div class="death-insuranceDiv abilityOptionsDivs">
                    <img class='death-insuranceImage abilityImages' src='https://png.pngtree.com/png-clipart/20230406/original/pngtree-life-insurance-line-icon-png-image_9030298.png'>
                    </div>
                </div>
                    <div class="abilityOptionsDivsTitle" data-ability-id="transfusion">
                        <h3 class="transfusionTitle mainMenuSectionHeadings" style="border-color: rgb(187, 187, 187);">Transfusion</h3>
                        <div class="transfusionDiv abilityOptionsDivs">
                        <img class="transfusionImage abilityImages" src="https://cdn0.iconfinder.com/data/icons/actions-alphabet-d-set-13-of-18/231/actions-D-13-8-512.png">
                        </div>
                        </div>
                        <div class="abilityOptionsDivsTitle" data-ability-id="ghost-hunter">
                            <h3 class="ghost-hunterTitle mainMenuSectionHeadings" style='border-color: rgb(187, 187, 187);'>Ghost Hunter</h3>
                            <div class="ghost-hunterDiv abilityOptionsDivs">
                            <img class="ghost-hunterImage abilityImages" src="https://images.vexels.com/media/users/3/324386/isolated/preview/bbd2e651901c677b5e2ad7f07b1404ae-scared-floating-specter.png">
                            </div>
                            </div>
                            <div class="abilityOptionsDivsTitle" data-ability-id="cheapskate">
                                <h3 class="cheapskateTitle mainMenuSectionHeadings" style="border-color: rgb(187, 187, 187);">Cheapskate</h3>
                                <div class="cheapskateDiv abilityOptionsDivs">
                                <img class="cheapskateImage abilityImages" src="https://images.vexels.com/media/users/3/127962/isolated/lists/fb811bcbf16753c4231e3b09a0320d8b-hand-drawn-dollar-bag.png">
                                </div>
                                </div>
                </div>
                <div class='abilityOptionsDivsTitle'>
                <div class="abilityOptionsDivsTitle selectedAbilityReminder"></div>
                </div>
            </div>
            <div class="shopSection">
                <h2 class="mainMenuSectionHeadings">Shop</h2>
                <div class='buyAligatorDomainGridStyle'>
                    <p>Aligator Domain (Grid Style)</p>
                <button onclick="
                if (zCredits >= 7) {buyAligatorDomain()}">BUY (7z)</button>
                </div>
                <div class='buyLebronJamesAvatar'>
                    <p>Lebron James (Avatar)</p>
                <button onclick="
                if (zCredits >= 10) {buyLebronJamesAvatar()}">BUY (10z)</button>
                </div>
                <div class='buyDonaldTrumpAvatar'>
                    <p>Donald Trump (Avatar)</p>
                <button onclick="
                if (zCredits >= 10) {buyDonaldTrumpAvatar()}">BUY (10z)</button>
                </div>
                
                <p class="mainMenuSectionHeadings">(More Coming Soon!)</p>

                <h6 class="zCreditsReminder"></h6>
            </div>
            <button style="color:red;background:darkgrey;" onclick="restartAccount()">RESTART ACCOUNT!</button>
        </div>
    <div class="customGameModeMenu" style="display:none;">
        <div class="customPreset" onclick="createCustomPreset();"><h1 style="margin:auto;text-align:center;">Create New</h1><h1 style="font-size: 100px;margin:auto;text-align:center;">+</h1></div>

        <button onclick="moveToInteractableGame()">Done</button>
    </div>
    <div class="customPresetMaker" style="display:none">
        <h3>Enter question below</h3><input placeholder="Question" id='customQuestionInput'>
        <h3>Enter answer below</h3><input placeholder="Answer" id='customAnswerInput'>
        <h3>Enter worth below</h3><input placeholder="Worth" id="customWorthInput">
        <button onclick=" 
        customQuestions.push({
            html: `<h3>${document.getElementById('customQuestionInput').value}</h3><input placeholder='Answer' class='puzzleInput${customQuestionNum}'><button onclick='checkPuzzleInput()'>submit</button>`,
            answer: `${document.getElementById('customAnswerInput').value}`,
            num: customQuestionNum,
            worth: Number(document.getElementById('customWorthInput').value),
            dif:'undefined',
            puzzleF: () => {checkPuzzleInput()}
        });
        customQuestionNum++; console.log(customQuestions)">Submit</button>
        <h3>Enter Preset Name</h3>
        <input placeholder="Preset Name" id="presetName">
        <button onclick="customQuestionNum=0; finishCustomPreset()">Finish Preset</button>
    </div>
<div class="tutorialDiv">
    <button onclick="document.querySelector('.mainMenu').style.display='block'; document.querySelector('.tutorialDiv').style.display='none'">Back to Menu</button>
    <button onclick="restartTutorial(); startTutorial();">Restart</button>
    <div class="tutorialGrid"></div>

            <div class="tutorialUsablesColumn">
            <div class="spellsForGame">
            <div class="line-up-spells">
            <div class="spellChoiceStyle ingameSpellStyle">
                <img style="opacity:1" class="spellImages" src="https://cdn1.iconfinder.com/data/icons/walking-and-running-postures/210/man-human-002-512.png">
            </div>
            <button style='top:5%' class="spellCastBtn">C<br>A<br>S<br>T</button>
            </div>
            <div class="line-up-spells">
                <div class="spellChoiceStyle ingameSpellStyle">
                    <img style="opacity:1" class="spellImages" src="https://www.pngall.com/wp-content/uploads/15/Cartoon-Skull-Transparent.png">
                </div>
                <button class="spellCastBtn">C<br>A<br>S<br>T</button>
                </div>
                <div class="line-up-spells">
                    <div class="spellChoiceStyle ingameSpellStyle">
                        <img style="opacity:1" class="spellImages" src="https://png.pngtree.com/png-vector/20230407/ourmid/pngtree-hammer-line-icon-vector-png-image_6684803.png">
                    </div>
                    <button class="spellCastBtn">C<br>A<br>S<br>T</button>
                    </div>
                    <div class="line-up-spells">
                        <div class="spellChoiceStyle ingameSpellStyle">
                            <img style="opacity:1" class="spellImages" src="https://static.thenounproject.com/png/2952723-200.png">
                        </div>
                        <button class="spellCastBtn">C<br>A<br>S<br>T</button>
                        </div>
                        </div>
                    <div class="tItemsDiv">
                        <div class='collectedItemDivs'><image style='width:100%;height:100%;' src="https://pngimg.com/d/treasure_chest_PNG89.png" alt="Tresaure Chest"></div>
                    </div>
                    </div>
                        <div class="tPuzzleGames">
                            <img class='puzzleImagesFit' src="https://logiclike.com/files/media/zd/r7/t9gbpv34_5f073bf7b27ed.png">
                        <h2>How many trianges are in this square?</h2>
                        <p>Enter the answer here:</p>
                        <input>
                        <button style="float:left; position:relative;">Submit</button>
                            </div>
                            <div class="tGameStats">
                        <p>points: 10</p>
                        <p>Enemies Killed: 0'</p>
                        <p>zCredits: 10</p>
                        <p>Round 1</p>
                        <button onclick="alert('Paused')">Pause</button>
                        <button>Start New Round Manually</button>
                    </div>

    <div class="tutorialTextDiv">
        <p style="margin:5%;font-size:20px;" class="tutorialText">This is the grid. You play as the red square, and can move throughout the grid using the arrow keys.</p>
        <button class="tContinueBtn">Continue</button>
    </div>
   <script>
    let tScreen=1;
    let tGrid = [];
    let o;
    let movementVar = 0;
    let enemyVar = 0;
    let punchVar = 1;
    let tMovementInterval;
    let tEnemyInterval;
    let tPunchInterval;
    function restartTutorial() {
        tScreen=1;
        if (typeof tMovementInterval === 'number') {
            clearInterval(tMovementInterval);
        }
        if (typeof tEnemyInterval === 'number') {
            clearInterval(tEnemyInterval);
        }
        if (typeof tPunchInterval === 'number') {
            clearInterval(tPunchInterval);
        }

        document.querySelector('.tutorialDiv').innerHTML=`
            <button onclick="document.querySelector('.mainMenu').style.display='block'; document.querySelector('.tutorialDiv').style.display='none'">Back to Menu</button>
    <button onclick="restartTutorial(); startTutorial();">Restart</button>
    <div class="tutorialGrid"></div>

            <div class="tutorialUsablesColumn">
            <div class="spellsForGame">
            <div class="line-up-spells">
            <div class="spellChoiceStyle ingameSpellStyle">
                <img style="opacity:1" class="spellImages" src="https://cdn1.iconfinder.com/data/icons/walking-and-running-postures/210/man-human-002-512.png">
            </div>
            <button style='top:5%' class="spellCastBtn">C<br>A<br>S<br>T</button>
            </div>
            <div class="line-up-spells">
                <div class="spellChoiceStyle ingameSpellStyle">
                    <img style="opacity:1" class="spellImages" src="https://www.pngall.com/wp-content/uploads/15/Cartoon-Skull-Transparent.png">
                </div>
                <button class="spellCastBtn">C<br>A<br>S<br>T</button>
                </div>
                <div class="line-up-spells">
                    <div class="spellChoiceStyle ingameSpellStyle">
                        <img style="opacity:1" class="spellImages" src="https://png.pngtree.com/png-vector/20230407/ourmid/pngtree-hammer-line-icon-vector-png-image_6684803.png">
                    </div>
                    <button class="spellCastBtn">C<br>A<br>S<br>T</button>
                    </div>
                    <div class="line-up-spells">
                        <div class="spellChoiceStyle ingameSpellStyle">
                            <img style="opacity:1" class="spellImages" src="https://static.thenounproject.com/png/2952723-200.png">
                        </div>
                        <button class="spellCastBtn">C<br>A<br>S<br>T</button>
                        </div>
                        </div>
                    <div class="tItemsDiv">
                        <div class='collectedItemDivs'><image style='width:100%;height:100%;' src="https://pngimg.com/d/treasure_chest_PNG89.png" alt="Tresaure Chest"></div>
                    </div>
                    </div>
                        <div class="tPuzzleGames">
                            <img class='puzzleImagesFit' src="https://logiclike.com/files/media/zd/r7/t9gbpv34_5f073bf7b27ed.png">
                        <h2>How many trianges are in this square?</h2>
                        <p>Enter the answer here:</p>
                        <input>
                        <button style="float:left; position:relative;">Submit</button>
                            </div>
                            <div class="tGameStats">
                        <p>points: 10</p>
                        <p>Enemies Killed: 0'</p>
                        <p>zCredits: 10</p>
                        <p>Round 1</p>
                        <button onclick="alert('Paused')">Pause</button>
                        <button>Start New Round Manually</button>
                    </div>

    <div class="tutorialTextDiv">
        <p style="margin:5%;font-size:20px;" class="tutorialText">This is the grid. You play as the red square, and can move throughout the grid using the arrow keys.</p>
        <button class="tContinueBtn">Continue</button>`}
    startTutorial();
    function startTutorial() {
        for (o = 0;o<64;o++) {
        tGrid.push({
        'gridNum': o,
        'gridDiv': `<div style='background-color:lightgrey;' class='tGridNumber${o} gridDivs'></div>`,
    });
    }
    tGrid.forEach((space) => {
        document.querySelector('.tutorialGrid').innerHTML += space.gridDiv;
        if (space.gridNum===4||space.gridNum===8||space.gridNum===15||space.gridNum===17||space.gridNum===18||space.gridNum===33||space.gridNum===41||space.gridNum===27||space.gridNum===54||space.gridNum===53) {
            document.querySelector(`.tGridNumber${space.gridNum}`).style.backgroundColor='grey';
        }
    });

    tMovementInterval = setInterval(()=>{
            movementVar++;
            if (movementVar % 2 === 0) {
            document.querySelector(`.tGridNumber43`).style.backgroundColor='red';
            document.querySelector(`.tGridNumber44`).style.backgroundColor='lightgrey';
        } else {
            document.querySelector(`.tGridNumber43`).style.backgroundColor='lightgrey';
            document.querySelector(`.tGridNumber44`).style.backgroundColor='red';
        }
    },1000);
    
    document.querySelector('.tContinueBtn').addEventListener('click', ()=>{
        tScreen++;
        console.log(tScreen)
        if (tScreen === 2) {
            clearInterval(tMovementInterval);
            document.querySelector(`.tGridNumber43`).style.backgroundColor='red';
            document.querySelector(`.tGridNumber44`).style.backgroundColor='grey';
            document.querySelector('.tutorialText').innerHTML = 'The darker shades of the background represent barriers. You cannot move though these.'
        }
        else if (tScreen === 3) {
            document.querySelector('.tutorialText').innerHTML = 'The other strange colors represent enemies. You will need to eliminate these to continue'
            document.querySelector(`.tGridNumber22`).style.backgroundColor = 'green'
            tEnemyInterval = setInterval(()=>{
            enemyVar++;
            if (enemyVar % 2 === 0) {
                document.querySelector(`.tGridNumber30`).innerHTML = ""
                document.querySelector(`.tGridNumber30`).style.top = '0'
            document.querySelector(`.tGridNumber30`).style.marginTop = '0'
        } else {
            document.querySelector(`.tGridNumber30`).style.top = '3px'
            document.querySelector(`.tGridNumber30`).style.marginTop = '-3px'
            document.querySelector(`.tGridNumber30`).innerHTML = "<image class='spellImageSquareFit swordPic' src='https://images.vexels.com/content/273074/preview/role-play-games-sword-icon-0b86ad.png'>"
        }
    },1000);
        }
        else if (tScreen === 4) {

            document.querySelector('.tutorialTextDiv').style.right='7%';
            document.querySelector('.tutorialText').innerHTML = 'The blue column represents spells. You select spells in the menu to assist you in strategically defeating enemies. However, you start with the basic attack: punch. You can punch using the keys \",    /    ;    .\"';
            document.querySelector('.tutorialUsablesColumn').style.display = 'inline-block'               
               tPunchInterval = setInterval(()=>{
                    punchVar++;
                    if (punchVar%2===0) {
                        document.querySelector(`.tGridNumber35`).style.top = '3px';
            document.querySelector(`.tGridNumber35`).style.marginTop = '-3px';
            document.querySelector(`.tGridNumber35`).innerHTML = "<image class='spellImageSquareFit' src='https://pngimg.com/d/fist_PNG2.png'>";
                    } else {
                        document.querySelector(`.tGridNumber35`).style.top = '0';
            document.querySelector(`.tGridNumber35`).style.marginTop = '0';
            document.querySelector(`.tGridNumber35`).innerHTML = "";
                    }
                },1000)
            }
        else if (tScreen === 5) {
            document.querySelector('.tutorialText').innerHTML = 'Casting spells, moving, and punching cost points. You can obtain points by solving puzzles and playing minigames';
            document.querySelector('.tutorialTextDiv').style.left = '30%';
            document.querySelector('.tutorialTextDiv').style.top = '30%';
            document.querySelector('.tPuzzleGames').style.display = 'inline-block';
            document.querySelector('.tGameStats').style.display = 'block';
        }
        else if (tScreen === 6) {
            document.querySelector('.tItemsDiv').style.display = 'inline-block';
            document.querySelector('.tutorialText').innerHTML = 'Lastly is the items. These are one-time use tools you can obtain and use that spawn anywhere on the grid.'
            document.querySelector('.tContinueBtn').innerHTML = 'Finish';
        }
        else {
            restartTutorial();
            startTutorial();
            document.querySelector('.tutorialDiv').style.display = 'none';
            document.querySelector('.mainMenu').style.display = 'block';
            console.log('tutorial finished')};
    })
}
    </script>
</div>
        <div class="nonMultiplayerGame">
            <div class="zombieFace"><h1 style="font-size:400px; top:50vh; text-align: center; margin:auto;">BOSS!</h1></div>
            <div class="cheatSheetDiv"><img class="cheatSheetImage" src="https://static.vecteezy.com/system/resources/thumbnails/022/026/035/small_2x/cute-sweet-love-letter-valentine-mail-cartoon-hand-drawing-png.png">
                <p class="cheatSheetTxt"></p></div>
            <div class="interactableGame"></div>
        <div class="usablesColumn">
            <div class="spellsForGame">
            <div class="line-up-spells">
            <div class="spellChoiceStyle ingameSpellStyle">
                <img style="opacity:1;" class="spellGameImage1 executeSpell1 spellImages" src="">
            </div>
            <button style='top:5%;' class="executeSpell1 spellCastBtn">C<br>A<br>S<br>T</button>
            </div>
            <div class="line-up-spells">
                <div class="spellChoiceStyle ingameSpellStyle">
                    <img style="opacity:1;" class="spellGameImage2 executeSpell2 spellImages" src="">
                </div>
                <button class="executeSpell2 spellCastBtn">C<br>A<br>S<br>T</button>
                </div>
                <div class="line-up-spells">
                    <div class="spellChoiceStyle ingameSpellStyle">
                        <img style="opacity:1;" class="spellGameImage3 executeSpell3 spellImages" src="">
                    </div>
                    <button class="executeSpell3 spellCastBtn">C<br>A<br>S<br>T</button>
                    </div>
                    <div class="line-up-spells">
                        <div class="spellChoiceStyle ingameSpellStyle">
                            <img style="opacity:1;" class="spellGameImage4 executeSpell4 spellImages" src="">
                        </div>
                        <button class="executeSpell4 spellCastBtn">C<br>A<br>S<br>T</button>
                        </div>
                        <div class="spellIncognito selectSwordDirectionClass">
                            <button class="swordUp">Up</button>
                            <button class="swordDown">Down</button>
                            <button class="swordRight">Right</button>
                            <button class="swordLeft">Left</button>
                        </div>
                        <div class="spellIncognito selectControlDirectionClass">
                            <button class="controlUp">Up</button>
                            <button class="controlDown">Down</button>
                            <button class="controlRight">Right</button>
                            <button class="controlLeft">Left</button>
                        </div>
                        <div class="spellIncognito selectSunbeamDirectionClass">
                            <button class="sunbeamColumn">Column</button>
                            <button class="sunbeamRow">Row</button>
                        </div> 
                        <div class="spellIncognito selectWallDirectionClass">
                            <button class="wallUp">Up</button>
                            <button class="wallDown">Down</button>
                            <button class="wallRight">Right</button>
                            <button class="wallLeft">Left</button>
                        </div>
                        <div class="spellIncognito endGhostEarlyClass">
                            <button class="endGhost">End Ghost</button>
                        </div>
        </div>
        <div class="itemsDiv"></div>
        <div class='collectedItemDes'><p class='itemDesTxt' style='color:white;'></p></div>
    </div>
      
        
        <div class="puzzleGames"></div>

        <div class="gameStats">
            <p style="margin:-3px; margin-left:1px;" class="barrierAlert"></p>
            <p class="points"></p>
            <p class="enemies-killed"></p>
            <p class="ingame-zCredits"></p>
            <p class="round-count"></p>
            <p class="round-record"></p>
            <button onclick="alert('Paused')">Pause</button>
            <button class="manualNewRound">Start New Round Manually</button>
            <div class="deathInsuranceCountdown"></div>
        </div>
        <div class="mobileArrowsDiv">
            <div class="mobileArrowsOutsideBox" style="margin-top:110px" onclick="walkDirection=-1; movePlayer()">
            <div class="mobileArrows mobileLeft"><img style="height:100%;width:100%;" src='https://cdn-icons-png.flaticon.com/512/46/46441.png'></div></div>
                <div class="mobileArrowsUpANDDown">
            <div class="mobileArrowsOutsideBox" onclick="walkDirection=-8; movePlayer()">
            <div class="mobileArrows mobileUp"><img style="height:100%;width:100%;rotate:90deg;" src='https://cdn-icons-png.flaticon.com/512/46/46441.png'></div></div>
            
            <div class="mobileArrowsOutsideBox" onclick="walkDirection=8; movePlayer()">
            <div class="mobileArrows mobileDown"><img style="height:100%;width:100%;rotate:270deg;" src='https://cdn-icons-png.flaticon.com/512/46/46441.png'></div></div>
                </div>
            <div class="mobileArrowsOutsideBox" style="margin-top:110px;" onclick="walkDirection=1; movePlayer()">
            <div class="mobileArrows mobileRight" style="rotate:180deg;"><img style="height:100%;width:100%;" src='https://cdn-icons-png.flaticon.com/512/46/46441.png'></div></div>
        </div>
        <div class="mobileArrowsDiv mobilePunchDiv">
            <div class="mobileArrowsOutsideBox" style="margin-top:110px" onclick="punchDirection=-1; playerPunch()">
            <div class="mobileArrows punchLeft"><img style="height:100%;width:100%;" src='https://pngimg.com/d/fist_PNG2.png'></div></div>
                <div class="mobileArrowsUpANDDown">
            <div class="mobileArrowsOutsideBox" onclick="punchDirection=-8; playerPunch()">
            <div class="mobileArrows punchUp"><img style="height:100%;width:100%;rotate:90deg;" src='https://pngimg.com/d/fist_PNG2.png'></div></div>
            
            <div class="mobileArrowsOutsideBox" onclick="punchDirection=8; playerPunch()">
            <div class="mobileArrows punchDown"><img style="height:100%;width:100%;rotate:270deg;" src='https://pngimg.com/d/fist_PNG2.png'></div></div>
                </div>
            <div class="mobileArrowsOutsideBox" style="margin-top:110px;" onclick="punchDirection=1; playerPunch()">
            <div class="mobileArrows punchRight" style="rotate:180deg;"><img style="height:100%;width:100%;" src='https://pngimg.com/d/fist_PNG2.png'></div></div>
        </div>
        </div>
    </div>
        <script>
            let customQuestionNum = 0;
            let presetName = 'My Preset';
            let customQuestions = [];
            let customPresets = [];
            let presetNum = -1;
            let bannedPresets = [];

            let customMenuHTMLStorage = localStorage.getItem('customMenuHTML');
            if (customMenuHTMLStorage) {
                document.querySelector('.customGameModeMenu').innerHTML = JSON.parse(customMenuHTMLStorage)
            }

            let presetNumStorage = localStorage.getItem('presetNumJSON');
            if (presetNumStorage) {
            presetNum = JSON.parse(presetNumStorage);
            } else {
            presetNum = -1;
            }

            let customPresetsStorage = localStorage.getItem('customPresetsJSON')
            if (customPresetsStorage) {
            customPresets = JSON.parse(customPresetsStorage);
            }

            let bannedPresetsStorage = localStorage.getItem('bannedPresetsJSON')
            if (bannedPresetsStorage) {
                bannedPresets = JSON.parse(bannedPresetsStorage)
                bannedPresets.forEach((bannedP)=>{
                    document.querySelector(`.customPreset${bannedP}`).style.display = 'none';
                })
            }

            function finishCustomPreset() {
                presetName = document.getElementById('presetName').value;
                customPresets.push(customQuestions);
                let customPresetsJSON = JSON.stringify(customPresets);
                let presetNumJSON = JSON.stringify(presetNum);
                localStorage.setItem('customPresetsJSON', customPresetsJSON);
                localStorage.setItem('presetNumJSON', presetNumJSON);
                console.log(customPresets);
                customQuestions = [];
                document.querySelector('.customGameModeMenu').style.display = 'block';
                document.querySelector('.customPresetMaker').style.display = 'none';
                document.querySelector('.customGameModeMenu').innerHTML += `
                <div class="customPreset customPreset${presetNum}" onclick="
                document.querySelectorAll('.customPreset').forEach((presetDiv)=>{presetDiv.style.backgroundColor = 'rgb(221, 221, 221)';})
                document.querySelector('.customPreset${presetNum}').style.backgroundColor = 'rgb(193, 250, 179)';
                puzzles = customPresets[${presetNum}];">
                <h1 style="margin:auto;text-align:center;">${presetName}</h1>
                <button style='top:80%;left:-20px;position:absolute;text-align:center;' onclick='deletePreset(${presetNum})'><image style='width:20px;height:20px;' src='https://cdn4.iconfinder.com/data/icons/primitive/512/trash_can-512.png'></button></div>`
                    customMenuHTML = document.querySelector('.customGameModeMenu').innerHTML;
                    let customMenuHTMLJSON = JSON.stringify(customMenuHTML);
                    localStorage.setItem('customMenuHTML', customMenuHTMLJSON);
                }

                function deletePreset(presetId) {
                    console.log(`preset deleted num = ${presetId}`)
                    document.querySelector(`.customPreset${presetId}`).style.display="none";
                    bannedPresets.push(Number(presetId));
                    localStorage.setItem('customPresetsJSON', JSON.stringify(customPresets));
                    localStorage.setItem('bannedPresetsJSON', JSON.stringify(bannedPresets))
                }

            function createCustomPreset() {
                document.querySelector('.customGameModeMenu').style.display = 'none';
                document.querySelector('.customPresetMaker').style.display = 'block';
                presetName = 'My Preset';
                presetNum++;
            }
            let bypass = 'false'
            let talkingBtnEvent = Number(Math.random()*100);
     /*Starting Screen*/
     /*
     document.body.addEventListener('keydown', (greetingsBypassCheck) => {
                if (greetingsBypassCheck.key === 'b') {
                    if (bypass === 'false') {
                        bypass = 'true'
                    goToMainMenu();
                    }
                }
            })
            
            let buttonTimer;
            let buttonSecs = 20;
            let startClicks = 0;
            const movingBtn = document.querySelector('.js-start-Btn');
            function move() {
                if (startClicks >= 2) {
                    document.querySelector('.js-start-Btn').classList.add('js-start-Btn-animation');
                    startClicks++;
                }
                else {
                movingBtn.style.position = 'absolute'
                movingBtn.style.margin = 'unset';
                let randomLeft = Math.random() * 1000;
                movingBtn.style.left = `${randomLeft}px`
                movingBtn.style.bottom = `${Math.random()*400}px`;
                startClicks++;
                }
                if (startClicks === 1) {
                    document.querySelector('.startBtnSpeech').innerHTML = '...'
                }
                if (startClicks === 2) {
                    document.querySelector('.startBtnSpeech').innerHTML = 'Stop, that tickles :]'
                }
                if (startClicks === 3) {
                    document.querySelector('.startBtnSpeech').innerHTML = 'Hey! That hurt! >:{]'
                }
                if (startClicks === 4) {
                    document.querySelector('.startBtnSpeech').innerHTML = 'Ouch! <:['
                }
                if (startClicks === 5) {
                    document.querySelector('.js-start-Btn').style.backgroundColor = 'lime';
                    document.querySelector('.startBtnSpeech').innerHTML = 'AHH! (:==(]'
                }
                if (startClicks === 6) {
                    goToMainMenu();
                    clearInterval(buttonTimer);
                }
                if (document.querySelector('.js-start-Btn').classList.contains('js-start-Btn-animation')) {
                    buttonTimer = setInterval(() => {
                        buttonSecs -= 1;
                        console.log(buttonSecs);
                        if (buttonSecs === 0) {
                    clearInterval(buttonTimer);
                    document.querySelector('.js-start-Btn').classList.remove('js-start-Btn-animation');
                    buttonSecs = 20;
                    document.querySelector('.startBtnSpeech').innerHTML = 'Phew (:O'
                }
                    }, 1000);
                }
            }
            function goToMainMenu() {
                document.querySelector('.greeting').style.display = 'none'
                document.querySelector('.mainMenu').style.display = 'block'
                return;
            }*/


            /*Spell Section*/
            const spells = [{
                    name: 'Dash',
                    cost: 3,
                    description: 'Move 2 spaces instead of 1',
                    image: 'https://cdn1.iconfinder.com/data/icons/walking-and-running-postures/210/man-human-002-512.png',
               }, {
                    name: 'Sword',
                    cost: 3,
                    description: 'Attack from within a one space gap',
                    image: "https://images.vexels.com/content/273074/preview/role-play-games-sword-icon-0b86ad.png",
               }, {
                    name: 'Ghost',
                    cost: 5,
                    description: 'Protect yourself in your position for 10 seconds. You cannot attack or be acted upon (unless by a ghost hunter)',
                    image: "https://static.vecteezy.com/system/resources/previews/008/853/398/non_2x/cartoon-smoke-fog-clip-art-free-png.png",
               }, {
                    name: 'Control',
                    cost: 5,
                    description: 'Either move or stop an enemy from moving when "dash" or "move" is used',
                    image: 'https://static.thenounproject.com/png/2952723-200.png',
               }, {
                    name: 'Sunbeam',
                    cost: 6,
                    description: 'Attack everything in the same column or row',
                    image: 'https://cdn-icons-png.flaticon.com/512/2453/2453768.png',
               },  {
                    name: 'Teleporter',
                    cost: 7,
                    description: 'Teleport to any open location of desire on the map',
                    image: 'https://static-00.iconduck.com/assets.00/player-teleport-icon-256x255-p43ylbnd.png',
               }, {
                    name: 'Bomb',
                    cost: 7,
                    description: 'Make an AOE (area of effect) attack in a rhombus shape with an altitude of 2 spaces',
                    image: 'https://www.pngall.com/wp-content/uploads/15/Cartoon-Explosion-PNG-File.png',
               }, {
                name: 'Wall',
                cost: 8,
                description: 'Construct a temporary wall on an adajacent square for 15 seconds',
                image: 'https://png.pngtree.com/png-vector/20230407/ourmid/pngtree-hammer-line-icon-vector-png-image_6684803.png'
               }, {
                    name: 'Remote',
                    cost: 10,
                    description: 'Remotely attack anything from anywhere on the map',
                    image: 'https://www.pngall.com/wp-content/uploads/15/Cartoon-Skull-Transparent.png',
               }];
       
               let spell1;
               let spell2;
               let spell3;
               let spell4;
               let roundRecord;
               let roundRecordTest = localStorage.getItem('roundRecord');
               if (roundRecordTest) {
                roundRecord = JSON.parse(roundRecordTest);
               } else {
                roundRecord = 0;
               }
                let gameMode;
                let subGameMode;
                let difficulty;

               let zCredits = 10;
               let zCreditsStorage = localStorage.getItem('zCreditsJSON')
               if (zCreditsStorage) {
                 zCredits = JSON.parse(zCreditsStorage)
               }
               let avatarPhoto = 'none';
               let avatarColor = 'red';
               let gridBackgroundColor = 'lightgray';
               let gridBarrierColor = 'grey';
               let enemyGhostColor;
               let movementTimeout;
                            function checkSpell1() {
                            const spell1Choice = document.getElementById(`spellDropdown1`).value;
                            spells.forEach((value) => {
                        if (spell1Choice === value.name) {
                            spell1 = value;
                            console.log(`chosen: ${value.name}`);
                            document.querySelector(`.spellImage1`).classList.add('spellImagesReveal')
                            document.querySelector(`.spellImage1`).src=`${value.image}`
                            document.querySelector('.spell1Description').innerHTML = `${value.name} description: ${value.description}.`;
                        }
                    })
                    if (!spell1) {
                            console.log('error, please select a spell');
                        };
                            }
                            function checkSpell2() {
                            const spell2Choice = document.getElementById(`spellDropdown2`).value;
                            spells.forEach((value) => {
                        if (spell2Choice === value.name) {
                            spell2 = value;
                            console.log(`chosen: ${value.name}`);
                            document.querySelector(`.spellImage2`).classList.add('spellImagesReveal')
                            document.querySelector(`.spellImage2`).src=`${value.image}`
                            document.querySelector('.spell2Description').innerHTML = `${value.name} description: ${value.description}.`;
                        }
                    })
                    if (!spell2) {
                            console.log('error, please select a spell')
                        }
                            }
                            function checkSpell3() {
                            const spell3Choice = document.getElementById(`spellDropdown3`).value;
                            spells.forEach((value) => {
                        if (spell3Choice === value.name) {
                            spell3 = value;
                            console.log(`chosen: ${value.name}`);
                            document.querySelector(`.spellImage3`).classList.add('spellImagesReveal')
                            document.querySelector(`.spellImage3`).src=`${value.image}`
                            document.querySelector('.spell3Description').innerHTML = `${value.name} description: ${value.description}.`;
                        }
                    })
                    if (!spell3) {
                            console.log('error, please select a spell')
                        }
                            }
                            function checkSpell4() {
                            const spell4Choice = document.getElementById(`spellDropdown4`).value;
                            spells.forEach((value) => {
                        if (spell4Choice === value.name) {
                            spell4 = value;
                            console.log(`chosen: ${value.name}`);
                            document.querySelector(`.spellImage4`).classList.add('spellImagesReveal')
                            document.querySelector(`.spellImage4`).src=`${value.image}`
                            document.querySelector('.spell4Description').innerHTML = `${value.name} description: ${value.description}.`;
                        }
                    })
                    if (!spell4) {
                            console.log('error, please select a spell')
                        }
                            }
                            document.querySelectorAll('.spellSubmitBtn').forEach((button) => {
                                button.addEventListener('click', () => {
                                    document.querySelector('.spellSection').style.height = '800px';
                                    document.querySelector('.descriptionsTitle').innerHTML = 'Descriptions';
                                })
                            });
                            /* Spells:
                dash (move two spaces instead of 1),
                sword (attack from 1 space away instead of having to be adjacent (doesn't work through barriers)),
                ghost (protect yourself in your position for 15 seconds. You cannot attack or be acted upon (unless by a ghost hunter)),
                bomb (make an AOE (area of effect) attack in a rhombus shape with an altitude of 2 spaces),
                teleporter (teleport to any open location of desire on the map),
                sunbeam (attack everything in the same column or row),
                control (either move or stop an enemy from moving when "dash" or "move" is used),
                remote (remotely attack anything from anywhere on the map)
                */

                    /*Gamemodes*/
                    function multiplayerSelected() {
                        gameMode='multiplayer';
                        console.log(document.querySelector('.gameModeReminder').innerHTML);
                        document.querySelectorAll('.gameModeReminder').forEach((reminder) => {
                            reminder.innerHTML= `Game mode: ${gameMode}`;
                            reminder.style.color = "rgb(230, 71, 71)";
                        });
                        document.querySelectorAll('.gameModeDescription').forEach((desText) => {
                            desText.innerHTML = `Description: play PVP in local servers, fighting until one remains.`;
                            desText.style.color = "rgb(230, 71, 71)";
                        });
                        document.querySelector('.gameModeSection').style.height = '390px';
                        console.log(`Game Mode: ${gameMode}`);

                    }
                    function endlessSelected() {
                        document.querySelector('.endlessModesDiv').style.display = 'block';
                        document.querySelector('.gameModeDiv').style.display = 'none';
                        gameMode = 'endless';
                    }
                    function protectSelected() {
                        document.querySelector('.difficultyDiv').style.display = 'block';
                        document.querySelector('.gameModeDiv').style.display = 'none';
                        gameMode='protect the zone';
                        document.querySelectorAll('.gameModeReminder').forEach((reminder) => {
                            reminder.innerHTML= `Game mode: ${gameMode}`;
                            reminder.style.color = "rgb(197, 80, 205)";
                        })
                        document.querySelectorAll('.gameModeDescription').forEach((desText) => {
                            desText.innerHTML = `Description: protect a zone in the center of the map from breaching enemies.`;
                            desText.style.color = "rgb(197, 80, 205)";
                        });
                        document.querySelector('.gameModeSection').style.height = '390px';
                        console.log(`Game Mode: ${gameMode}`);
                    }
                    
                    function timedSelected() {
                        document.querySelector('.difficultyDiv').style.display = 'block';
                        document.querySelector('.endlessModesDiv').style.display = 'none';
                        subGameMode='timed points';

                        document.querySelectorAll('.gameModeReminder').forEach((reminder) => {
                            reminder.innerHTML= `Game mode: ${subGameMode}`;
                            reminder.style.color = "rgb(255, 179, 0)";
                        })
                        document.querySelectorAll('.gameModeDescription').forEach((desText) => {
                            desText.innerHTML = `Description: fight endless waves of enemies while points are gained over time rather than with puzzles.`;
                            desText.style.color = "rgb(255, 179, 0)";
                        });
                        document.querySelector('.gameModeSection').style.height = '390px';
                        console.log(`Game Mode: ${subGameMode}`);
                    }
                    function customSelected() {
                        document.querySelector('.difficultyDiv').style.display = 'block';
                        document.querySelector('.endlessModesDiv').style.display = 'none';
                        subGameMode='custom';
                        document.querySelectorAll('.gameModeReminder').forEach((reminder) => {
                            reminder.innerHTML= `Game mode: ${subGameMode}`;
                            reminder.style.color = "rgb(255, 179, 0)";
                        })
                        document.querySelectorAll('.gameModeDescription').forEach((desText) => {
                            desText.innerHTML = `Description: fight endless waves of enemies with your own custom questions (useful for studying).`;
                            desText.style.color = "rgb(255, 179, 0)";
                        });
                        document.querySelector('.gameModeSection').style.height = '390px';
                        console.log(`Game Mode: ${subGameMode}`);
                    }
                    function standardSelected() {
                        document.querySelector('.difficultyDiv').style.display = 'block';
                        document.querySelector('.endlessModesDiv').style.display = 'none';
                        subGameMode='standard';
                        document.querySelectorAll('.gameModeReminder').forEach((reminder) => {
                            reminder.innerHTML= `Game mode: ${subGameMode}`;
                            reminder.style.color = "rgb(255, 179, 0)";
                        })
                        document.querySelectorAll('.gameModeDescription').forEach((desText) => {
                            desText.innerHTML = `Description: fight endless waves of enemies.`;
                            desText.style.color = "rgb(255, 179, 0)";
                        });
                        document.querySelector('.gameModeSection').style.height = '390px';
                        console.log(`Game Mode: ${subGameMode}`);
                    }

                    document.querySelector('.backToGameModes').addEventListener('click', () => {
                        document.querySelector('.difficultyDiv').style.display = 'none';
                        document.querySelector('.gameModeDiv').style.display = 'block';
                    });
                    document.querySelector('.backToGameModes2').addEventListener('click', ()=>{
                        document.querySelector('.endlessModesDiv').style.display = 'none';
                        document.querySelector('.gameModeDiv').style.display = 'block';
                    })
                    /*Difficulty*/
                    document.querySelector('.easyDifficulty').addEventListener('click', () => {
                        difficulty = 'Easy';
                        document.querySelector('.difficultySelected').innerHTML = `Difficulty selected: ${difficulty}`
                        document.querySelector('.difficultySelected').style.color = "rgb(0, 174, 255)"
                    })
                    document.querySelector('.mediumDifficulty').addEventListener('click', () => {
                        difficulty = 'Medium';
                        document.querySelector('.difficultySelected').innerHTML = `Difficulty selected: ${difficulty}`
                        document.querySelector('.difficultySelected').style.color = "rgb(182, 59, 244)"
                    })
                    document.querySelector('.hardDifficulty').addEventListener('click', () => {
                        difficulty = 'Hard';
                        document.querySelector('.difficultySelected').innerHTML = `Difficulty selected: ${difficulty}`
                        document.querySelector('.difficultySelected').style.color = "rgb(255, 71, 71)"

                    })

                    /*Ability Section*/
let ability;
                    document.querySelectorAll('.abilityOptionsDivsTitle').forEach((abilityDiv) => {
                        abilityDiv.addEventListener('click', (button) => {
                            ability = abilityDiv.dataset.abilityId;
                            document.querySelectorAll('.abilityOptionsDivs').forEach((border) => {
                                border.style.borderColor = 'rgb(187, 187, 187)'
                                border.style.borderStyle = 'dashed';
                            });
                            document.querySelector(`.${ability}Div`).style.borderColor = 'rgb(10, 232, 10)';
                            document.querySelector(`.${ability}Div`).style.borderStyle = 'solid';
                            document.querySelector('.abilitySection').style.width = '430px';
                            document.querySelector('.selectedAbilityReminder').innerHTML = `
                                <h2 class='mainMenuSectionHeadings' style='color:lime;'>Selected Ability</h2>
                                <h3 class="generatedAbilityHTML mainMenuSectionHeadings" style="border-color: rgb(187, 187, 187);">${document.querySelector(`.${ability}Title`).innerHTML}</h3>
                                <div class="abilityOptionsDivs" style='border-style:double;'>
                                <img class="generatedAbilityImage">
                                </div>
                                </div>
                                <p class='abilityDescription mainMenuSectionHeadings'></p>`
                                if (ability === 'death-insurance') {
                                    document.querySelector('.generatedAbilityImage').src = `https://png.pngtree.com/png-clipart/20230406/original/pngtree-life-insurance-line-icon-png-image_9030298.png`;
                                    document.querySelector('.abilityDescription').innerHTML = 'Description: Once killed, you are revived given 10 seconds to get a kill, or else you will die again. This can only be used once.';
                                }
                                else if (ability === 'transfusion') {
                                    document.querySelector('.generatedAbilityImage').src = `https://cdn0.iconfinder.com/data/icons/actions-alphabet-d-set-13-of-18/231/actions-D-13-8-512.png`;
                                    document.querySelector('.abilityDescription').innerHTML = 'Description: You can move through barriers as long as there is one adjacent open space.'
                                }
                                    else if (ability === 'ghost-hunter') {
                                        document.querySelector('.generatedAbilityImage').src = `https://images.vexels.com/media/users/3/324386/isolated/preview/bbd2e651901c677b5e2ad7f07b1404ae-scared-floating-specter.png`;
                                        document.querySelector('.abilityDescription').innerHTML = 'Description: Enemies in the &#8221;ghost&#8221; state are vulnerable to you.'
                                    }
                                    else if (ability === 'cheapskate') {
                                        document.querySelector('.generatedAbilityImage').src = `https://images.vexels.com/media/users/3/127962/isolated/lists/fb811bcbf16753c4231e3b09a0320d8b-hand-drawn-dollar-bag.png`;
                                        document.querySelector('.abilityDescription').innerHTML = 'Description: all spell costs are reduced by 1'
                                    }
                        }
                    )
                    })

                    /* Abilities: 
                    Death Insurance (50% chance of getting a 2nd life),
                    Transfusion (move through barriers as long as there is an adjacent spot that isn't a barrier), 
                    Ghost Hunter (can attack enemies in the 'ghost' state),
                    Cheapskate (all ability costs -1).
                     */

                    /*Shop Section*/
                    document.querySelector('.zCreditsReminder').innerHTML = `zCredits: ${zCredits}`;
                    function updateCreditReminder() {
                    document.querySelector('.zCreditsReminder').innerHTML = `zCredits: ${zCredits}`;
                }
                function buyAligatorDomain () {
                    if (zCredits >= 7) {
                gridBackgroundColor = `rgb(107, 165, 215)`; 
                gridBarrierColor=`rgb(15, 94, 78)`; zCredits = zCredits - 7; 
                updateCreditReminder();
                document.querySelector('.buyAligatorDomainGridStyle').style.color = 'green';
                updateStats()
                } 
                else {console.log('not enough credits');}}

                function buyLebronJamesAvatar() {
                    if (zCredits >= 10) {
                        avatarPhoto = 'https://cdn.nba.com/headshots/nba/latest/1040x760/2544.png'
                zCredits = zCredits - 10; 
                updateCreditReminder();
                document.querySelector('.buyLebronJamesAvatar').style.color = 'green';
                updateStats()
                } 
                else {console.log('not enough credits');
                    }
                }
                function buyDonaldTrumpAvatar() {
                    if (zCredits >= 10) {
                        avatarPhoto = 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSFVrYmHM01mWakApa6Ijfdrv8bQQ_NztDHrQ&s'
                zCredits = zCredits - 10; 
                updateCreditReminder();
                document.querySelector('.buyDonaldTrumpAvatar').style.color = 'green';
                updateStats()
                } 
                else {console.log('not enough credits');
                    }
                }

                // Grid Info

                    let enemyType = [{
                        name: 'zombie',
                        color: 'lime',
                        speed: 1000,
                        attackSpeed: 0,
                        secondaryAttackSpeed: 0,
                        enemyF: () => {},
                        enemyFTwo: () => {}
                    }, {
                        name: 'greater-zombie',
                        color: 'lightgreen',
                        speed: 3000,
                        attackSpeed: 4000,
                        secondaryAttackSpeed: 0,
                        enemyF: () => {
                            if (enemyNameCheck === 'greater-zombie')
                for (let u=0; u<64; u++) {
                let area = grid[u];
                    if (area.barrier === 'enemy') {
                        let enemySwordRandomizer = (Math.random()*100).toFixed(0);
                        let enemySwordDirection;
                        if (enemySwordRandomizer <= 25)                              {enemySwordDirection = -8;}
                        if (enemySwordRandomizer > 25 && enemySwordRandomizer <= 50) {enemySwordDirection = 8; }
                        if (enemySwordRandomizer > 50 && enemySwordRandomizer <= 75) {enemySwordDirection = -1; }
                        if (enemySwordRandomizer > 75)                               {enemySwordDirection = 1; }
                        let swordPos = Number(area.gridNum + enemySwordDirection);
                        if (grid[swordPos] !== undefined) {
                        if (((enemySwordDirection === -1 || enemySwordDirection === 1) && ((area.gridNum <= 7 && swordPos > 7)||(area.gridNum >= 8  && area.gridNum <= 15 && (swordPos < 8 || swordPos >15))||(area.gridNum >= 16  && area.gridNum <= 23 && (swordPos < 16 || swordPos >23))||(area.gridNum >= 24 && area.gridNum <= 31 && (swordPos < 24 || swordPos >31))||(area.gridNum >= 32  && area.gridNum <= 39 && (swordPos < 32 || swordPos >39))||(area.gridNum >= 40  && area.gridNum <= 47 && (swordPos < 40 || swordPos >47))||(area.gridNum >= 48  && area.gridNum <= 55 && (swordPos < 48 || swordPos >55))||(area.gridNum >= 56  && area.gridNum <= 63 && (swordPos < 56 || swordPos >63))))) {} else {
                        document.querySelector(`.gridNumber${swordPos}`).innerHTML= `<image class='spellImageSquareFit' src='https://images.vexels.com/content/273074/preview/role-play-games-sword-icon-0b86ad.png'>`;
                            setTimeout(() => {
                                document.querySelector(`.gridNumber${swordPos}`).innerHTML = '';
                            },1000)
                            
                        if (grid[swordPos].barrier === 'player') {
                            if (ability === 'death-insurance') {
                                deathInsuranceCheck();
                            }
                            else {

                                            grid[swordPos].barrier = 'false';
                                            document.querySelector(`.gridNumber${swordPos}`).style.backgroundColor = gridBackgroundColor;
                                            gameOver();
                            }} else {
                        area = grid[u + enemySwordDirection];
                        if (area.barrier === 'false') {
                        let swordPos2 = Number(area.gridNum + enemySwordDirection);
                        if (grid[swordPos2] !== undefined) {
                        if (((enemySwordDirection === -1 || enemySwordDirection === 1) && ((area.gridNum <= 7 && swordPos2 > 7)||(area.gridNum >= 8  && area.gridNum <= 15 && (swordPos2 < 8 || swordPos2 >15))||(area.gridNum >= 16  && area.gridNum <= 23 && (swordPos2 < 16 || swordPos2 >23))||(area.gridNum >= 24 && area.gridNum <= 31 && (swordPos2 < 24 || swordPos2 >31))||(area.gridNum >= 32  && area.gridNum <= 39 && (swordPos2 < 32 || swordPos2 >39))||(area.gridNum >= 40  && area.gridNum <= 47 && (swordPos2 < 40 || swordPos2 >47))||(area.gridNum >= 48  && area.gridNum <= 55 && (swordPos2 < 48 || swordPos2 >55))||(area.gridNum >= 56  && area.gridNum <= 63 && (swordPos2 < 56 || swordPos2 > 63))))) {} else {
                        if (grid[swordPos2].barrier === 'player') {
                            if (ability === 'death-insurance') {
                                deathInsuranceCheck();
                            }
                            else {
                                            grid[swordPos2].barrier = 'false';
                                           document.querySelector(`.gridNumber${swordPos2}`).style.backgroundColor = gridBackgroundColor;
                                           document.querySelector(`.gridNumber${swordPos2}`).innerHTML = ``;                                            //gameOver();
                            }}}}}}}
                }}}
                        },
                        enemyFTwo: () => {}
                    }, {
                        name: 'husk',
                        color: 'rgb(253, 255, 185)',
                        speed: 4000,
                        attackSpeed: 3000,
                        secondaryAttackSpeed: 7000,
                        enemyF: () => {
                            if (enemyNameCheck === 'husk') {
                for (let u=0; u<64; u++) {
                let area = grid[u];
                    if (area.barrier === 'enemy') {
                        let enemySwordRandomizer = (Math.random()*100).toFixed(0);
                        let enemySwordDirection;
                        if (enemyDirectionCalled = 'false') {
                        if (enemySwordRandomizer <= 25)                              {enemySwordDirection = -8;}
                        if (enemySwordRandomizer > 25 && enemySwordRandomizer <= 50) {enemySwordDirection = 8; }
                        if (enemySwordRandomizer > 50 && enemySwordRandomizer <= 75) {enemySwordDirection = -1; }
                        if (enemySwordRandomizer > 75)                               {enemySwordDirection = 1; }
                        }
                        let swordPos = Number(area.gridNum + enemySwordDirection);
                        if (grid[swordPos] !== undefined) {
                        if (((enemySwordDirection === -1 || enemySwordDirection === 1) && ((area.gridNum <= 7 && swordPos > 7)||(area.gridNum >= 8  && area.gridNum <= 15 && (swordPos < 8 || swordPos >15))||(area.gridNum >= 16  && area.gridNum <= 23 && (swordPos < 16 || swordPos >23))||(area.gridNum >= 24 && area.gridNum <= 31 && (swordPos < 24 || swordPos >31))||(area.gridNum >= 32  && area.gridNum <= 39 && (swordPos < 32 || swordPos >39))||(area.gridNum >= 40  && area.gridNum <= 47 && (swordPos < 40 || swordPos >47))||(area.gridNum >= 48  && area.gridNum <= 55 && (swordPos < 48 || swordPos >55))||(area.gridNum >= 56  && area.gridNum <= 63 && (swordPos < 56 || swordPos >63))))) {} else {
                        document.querySelector(`.gridNumber${swordPos}`).innerHTML= `<image class='spellImageSquareFit' src='https://images.vexels.com/content/273074/preview/role-play-games-sword-icon-0b86ad.png'>`;
                            setTimeout(() => {
                                document.querySelector(`.gridNumber${swordPos}`).innerHTML = '';
                            },1000)
                            
                        if (grid[swordPos].barrier === 'player') {
                            if (ability === 'death-insurance') {
                                deathInsuranceCheck();
                            }
                            else {

                                            grid[swordPos].barrier = 'false';
                                            document.querySelector(`.gridNumber${swordPos}`).style.backgroundColor = gridBackgroundColor;
                                            gameOver();
                            }} else {
                        area = grid[u + enemySwordDirection];
                        if (area.barrier === 'false') {
                        let swordPos2 = Number(area.gridNum + enemySwordDirection);
                        if (grid[swordPos2] !== undefined) {
                        if (((enemySwordDirection === -1 || enemySwordDirection === 1) && ((area.gridNum <= 7 && swordPos2 > 7)||(area.gridNum >= 8  && area.gridNum <= 15 && (swordPos2 < 8 || swordPos2 >15))||(area.gridNum >= 16  && area.gridNum <= 23 && (swordPos2 < 16 || swordPos2 >23))||(area.gridNum >= 24 && area.gridNum <= 31 && (swordPos2 < 24 || swordPos2 >31))||(area.gridNum >= 32  && area.gridNum <= 39 && (swordPos2 < 32 || swordPos2 >39))||(area.gridNum >= 40  && area.gridNum <= 47 && (swordPos2 < 40 || swordPos2 >47))||(area.gridNum >= 48  && area.gridNum <= 55 && (swordPos2 < 48 || swordPos2 >55))||(area.gridNum >= 56  && area.gridNum <= 63 && (swordPos2 < 56 || swordPos2 > 63))))) {} else {
                        if (grid[swordPos2].barrier === 'player') {
                            if (ability === 'death-insurance') {
                                deathInsuranceCheck();
                            }
                            else {
                                            grid[swordPos2].barrier = 'false';
                                           document.querySelector(`.gridNumber${swordPos2}`).style.backgroundColor = gridBackgroundColor;
                                           document.querySelector(`.gridNumber${swordPos2}`).innerHTML = ``;
                                           gameOver();
                            }}}}}}}
                }}
                        }
                            }
                        },
                        enemyFTwo: () => {
                            if (enemyNameCheck === 'husk') {
                        let enemyStompRandomizer = (Math.random()*100).toFixed(0);
                        let smashArray = [];
                        if (enemyStompRandomizer <= 25)                              {smashArray.push(-17,-16,-15,-9,-8,-7);}
                        if (enemyStompRandomizer > 25 && enemyStompRandomizer <= 50) {smashArray.push(7,8,9,15,16,17); }
                        if (enemyStompRandomizer > 50 && enemyStompRandomizer <= 75) {smashArray.push(-7,-6,1,2,9,10);}
                        if (enemyStompRandomizer > 75)                               {smashArray.push(-10,-9,-2,-1,6,7);}
                for (let u=0; u<64; u++) {
                let area = grid[u];
                    if (area.barrier === 'enemy') {
                        smashArray.forEach((stompValue) => {
                            let stompPos = Number(area.gridNum + stompValue);
                            if (stompPos < 0 || stompPos > 63) {} else if (grid[stompPos].barrier === 'true') {} else {
                                if ((u < 4 && (stompPos === 7 || stompPos === 6))||(u < 12 && u > 7 && (stompPos === 6 || stompPos === 7 || stompPos === 14 || stompPos === 15))||(u < 20 && u > 15 && (stompPos === 7 || stompPos === 8 || stompPos === 14 || stompPos === 15 || stompPos === 22 || stompPos === 23))||(u < 28 && u > 23 && (stompPos === 14 || stompPos === 15 ||stompPos === 22 || stompPos === 23 || stompPos === 30 || stompPos === 31))||(u < 37 && u > 31 && (stompPos === 22 || stompPos === 23 ||stompPos === 30 || stompPos === 31 || stompPos === 38 || stompPos === 39))||(u < 45 && u > 39 && (stompPos === 30 || stompPos === 31 ||stompPos === 38 || stompPos === 39 || stompPos === 46 || stompPos === 47))||(u < 53 && u > 47 && (stompPos === 38 || stompPos === 39 || stompPos === 46 || stompPos === 47 || stompPos === 54 || stompPos === 55))||(u < 61 && u > 55 && (stompPos === 46 || stompPos === 47 ||stompPos === 54 || stompPos === 55 || stompPos === 63 || stompPos === 62))
                                ||(u < 8 && u > 3 && (stompPos === 0 || stompPos === 1 || stompPos === 8|| stompPos === 9|| stompPos === 16 || stompPos === 17))||(u < 16 && u > 11 && (stompPos === 8 || stompPos ===9 || stompPos === 16|| stompPos === 17|| stompPos === 24 || stompPos === 25))||(u < 24 && u > 19 && (stompPos === 16 || stompPos ===17 || stompPos === 24|| stompPos === 25|| stompPos === 32 || stompPos === 33))||(u < 32 && u > 27 && (stompPos===24||stompPos===25||stompPos===32||stompPos===33||stompPos===40||stompPos===41))||(u < 40 && u > 35 && (stompPos===32||stompPos===33||stompPos===40||stompPos===41||stompPos===48||stompPos===49))||(u < 48 && u > 43 && (stompPos===40||stompPos===41||stompPos===48||stompPos===49||stompPos===56||stompPos===57))||(u < 56 && u > 51 && (stompPos===48||stompPos===49||stompPos===56||stompPos===57)||(u > 59 && (stompPos === 56 || stompPos ===57)))) {} else {
                                    if (grid[stompPos].barrier !== 'enemy') {
                                    document.querySelector(`.gridNumber${stompPos}`).style.backgroundColor = 'rgb(190, 135, 139)';
                                    }
                            setTimeout(() => {
                                if (grid[stompPos].barrier !== 'enemy') {
                                document.querySelector(`.gridNumber${stompPos}`).style.backgroundColor = gridBackgroundColor;
                                }
                            }, 1000);
                        if (grid[stompPos].barrier === 'player') {
                            if (ability === 'death-insurance') {
                                deathInsuranceCheck();
                            }
                                            grid[stompPos].barrier = 'false';
                                            gameOver();
                                        }
                                        else {
                        
                    }
                        }}})
                }
                }}

                        }
                    }, {
                        name: 'virus',
                        color: 'pink',
                        speed: 1000,
                        attackSpeed: 2100,
                        secondaryAttackSpeed: 0,
                        enemyF: () => {
                            if (enemyNameCheck === 'virus') {
                        let virusArray = [-9,-7,7,9];
                for (let u=0; u<64; u++) {
                let area = grid[u];
                    if (area.barrier === 'enemy') {
                        virusArray.forEach((virusValue) => {
                            let stompPos = Number(area.gridNum + virusValue);
                            if (stompPos < 0 || stompPos > 63) {} else if (grid[stompPos].barrier === 'true') {} else {
                                if ((u < 4 && (stompPos === 7 || stompPos === 6))||(u < 12 && u > 7 && (stompPos === 6 || stompPos === 7 || stompPos === 14 || stompPos === 15))||(u < 20 && u > 15 && (stompPos === 7 || stompPos === 8 || stompPos === 14 || stompPos === 15 || stompPos === 22 || stompPos === 23))||(u < 28 && u > 23 && (stompPos === 14 || stompPos === 15 ||stompPos === 22 || stompPos === 23 || stompPos === 30 || stompPos === 31))||(u < 37 && u > 31 && (stompPos === 22 || stompPos === 23 ||stompPos === 30 || stompPos === 31 || stompPos === 38 || stompPos === 39))||(u < 45 && u > 39 && (stompPos === 30 || stompPos === 31 ||stompPos === 38 || stompPos === 39 || stompPos === 46 || stompPos === 47))||(u < 53 && u > 47 && (stompPos === 38 || stompPos === 39 || stompPos === 46 || stompPos === 47 || stompPos === 54 || stompPos === 55))||(u < 61 && u > 55 && (stompPos === 46 || stompPos === 47 ||stompPos === 54 || stompPos === 55 || stompPos === 63 || stompPos === 62))
                                ||(u < 8 && u > 3 && (stompPos === 0 || stompPos === 1 || stompPos === 8|| stompPos === 9|| stompPos === 16 || stompPos === 17))||(u < 16 && u > 11 && (stompPos === 8 || stompPos ===9 || stompPos === 16|| stompPos === 17|| stompPos === 24 || stompPos === 25))||(u < 24 && u > 19 && (stompPos === 16 || stompPos ===17 || stompPos === 24|| stompPos === 25|| stompPos === 32 || stompPos === 33))||(u < 32 && u > 27 && (stompPos===24||stompPos===25||stompPos===32||stompPos===33||stompPos===40||stompPos===41))||(u < 40 && u > 35 && (stompPos===32||stompPos===33||stompPos===40||stompPos===41||stompPos===48||stompPos===49))||(u < 48 && u > 43 && (stompPos===40||stompPos===41||stompPos===48||stompPos===49||stompPos===56||stompPos===57))||(u < 56 && u > 51 && (stompPos===48||stompPos===49||stompPos===56||stompPos===57)||(u > 59 && (stompPos === 56 || stompPos ===57)))) {} else {
                                    if (grid[stompPos].barrier !== 'enemy') {
                                    document.querySelector(`.gridNumber${stompPos}`).style.backgroundColor = 'hotpink';
                                    }
                            setTimeout(() => {
                                if (grid[stompPos].barrier !== 'enemy') {
                                document.querySelector(`.gridNumber${stompPos}`).style.backgroundColor = gridBackgroundColor;
                                }
                            }, 1000);
                        if (grid[stompPos].barrier === 'player') {
                            if (ability === 'death-insurance') {
                                deathInsuranceCheck();
                            } else {
                                            grid[stompPos].barrier = 'false';
                                            gameOver();}}
                                        else {
                        
                    }}}})
                }}}      },
                        enemyFTwo: () => {}
                    }, {
                        name: 'hole',
                        color: 'black',
                        speed: 10000,
                        attackSpeed: 4000,
                        secondaryAttackSpeed: 0,
                        enemyF: () => {
                            if (enemyNameCheck === 'hole') {
                for (let u=0; u<64; u++) {
                let area = grid[u];
                    if (area.barrier === 'enemy') {
                        bombRhombus.forEach((bombValue) => {
                            let bombPos = Number(area.gridNum + bombValue);
                            if (bombPos < 0 || bombPos > 63) {} else if (grid[bombPos].barrier === 'true') {} else {
                                if ((u < 5 && bombPos === 7)||(u < 13 && u > 7 && ((bombPos < 8 && bombPos > 5) || bombPos === 15))||(u < 21 && u > 15 && ((bombPos < 16 && bombPos > 13) || bombPos === 7 || bombPos === 23))||(u < 29 && u > 23 && ((bombPos < 24 && bombPos > 21) || bombPos === 31 || bombPos === 15))||(u < 37 && u > 31 && ((bombPos < 32 && bombPos > 29) || bombPos === 39 || bombPos === 23))||(u < 45 && u > 39 && ((bombPos < 40 && bombPos > 37) || bombPos === 47 || bombPos === 31))||(u < 53 && u > 47 && ((bombPos < 48 && bombPos > 45) || bombPos === 55 || bombPos === 39))||(u < 61 && u > 55 && ((bombPos < 56 && bombPos > 53) || bombPos === 63 || bombPos === 47))
                                ||(u < 8 && u > 3 && ((bombPos < 10 && bombPos > 7) || bombPos === 0 || bombPos === 16))||(u < 16 && u > 11 && ((bombPos < 18 && bombPos > 15) || bombPos === 8 || bombPos === 24))||(u < 24 && u > 19 && ((bombPos < 26 && bombPos > 23) || bombPos === 16 || bombPos === 32))||(u < 32 && u > 27 && ((bombPos < 34 && bombPos > 31) || bombPos === 24 || bombPos === 40))||(u < 40 && u > 35 && ((bombPos < 42 && bombPos > 39) || bombPos === 32 || bombPos === 48))||(u < 48 && u > 43 && ((bombPos < 50 && bombPos > 47) || bombPos === 40 || bombPos === 56))||(u < 56 && u > 51 && ((bombPos < 58 && bombPos > 55) || bombPos === 48))||(u > 59 && bombPos === 56)) {} else {
                                    if (grid[bombPos].barrier !== 'enemy') {
                                    document.querySelector(`.gridNumber${bombPos}`).style.backgroundColor = 'orange';
                                    }
                            setTimeout(() => {
                                if (grid[bombPos].barrier !== 'enemy') {
                                document.querySelector(`.gridNumber${bombPos}`).style.backgroundColor = gridBackgroundColor
                                }
                            }, 1000);
                        if (grid[bombPos].barrier === 'player') {
                            if (ability === 'death-insurance') {
                                deathInsuranceCheck();
                            } else {
                                            grid[bombPos].barrier = 'false';
                                            gameOver();
                                        }}
                                        else {
                    }
                        }}})
                }
                }}

                        },
                        enemyFTwo: () => {}
                    }, {
                        name: 'vampire',
                        color: 'lightpink',
                        speed: 700,
                        attackSpeed: 500,
                        secondaryAttackSpeed: 1400,
                        enemyF: () => {
                            if (enemyNameCheck === 'vampire') {
                for (let u=0; u<64; u++) {
                let area = grid[u];
                    if (area.barrier === 'enemy') {
                        let enemySwordRandomizer = (Math.random()*100).toFixed(0);
                        let enemySwordDirection;
                        if (enemySwordRandomizer <= 25)                              {enemySwordDirection = -8;}
                        if (enemySwordRandomizer > 25 && enemySwordRandomizer <= 50) {enemySwordDirection = 8; }
                        if (enemySwordRandomizer > 50 && enemySwordRandomizer <= 75) {enemySwordDirection = -1; }
                        if (enemySwordRandomizer > 75)                               {enemySwordDirection = 1; }
                        let swordPos = Number(area.gridNum + enemySwordDirection);
                        if (grid[swordPos] !== undefined) {
                        if (((enemySwordDirection === -1 || enemySwordDirection === 1) && ((area.gridNum <= 7 && swordPos > 7)||(area.gridNum >= 8  && area.gridNum <= 15 && (swordPos < 8 || swordPos >15))||(area.gridNum >= 16  && area.gridNum <= 23 && (swordPos < 16 || swordPos >23))||(area.gridNum >= 24 && area.gridNum <= 31 && (swordPos < 24 || swordPos >31))||(area.gridNum >= 32  && area.gridNum <= 39 && (swordPos < 32 || swordPos >39))||(area.gridNum >= 40  && area.gridNum <= 47 && (swordPos < 40 || swordPos >47))||(area.gridNum >= 48  && area.gridNum <= 55 && (swordPos < 48 || swordPos >55))||(area.gridNum >= 56  && area.gridNum <= 63 && (swordPos < 56 || swordPos >63))))) {} else {
                        document.querySelector(`.gridNumber${swordPos}`).innerHTML= `<image class='spellImageSquareFit' src='https://cdn-icons-png.flaticon.com/512/8970/8970332.png'>`;
                            setTimeout(() => {
                                document.querySelector(`.gridNumber${swordPos}`).innerHTML = '';
                            },1000)
                            
                        if (grid[swordPos].barrier === 'player') {
                            if (ability === 'death-insurance') {
                                deathInsuranceCheck();
                            }
                            else {
                                if (grid[swordPos].barrier !== 'enemy') {
                                            grid[swordPos].barrier = 'false';
                                            document.querySelector(`.gridNumber${swordPos}`).style.backgroundColor = gridBackgroundColor;
                                            gameOver();
                                }
                            }}}}}}}
                        },
                        enemyFTwo: () => {
                            if (enemyNameCheck === 'vampire') {
                            if (ability !== 'ghost-hunter') {
                                enemyGhostColor = 'rgba(0, 0, 0, 0)'
                                for (let u=0; u<64; u++) {
                                area = grid[u];
                                    if (area.barrier === 'enemy') {
                                        area.barrier = 'enemyGhost';
                                        clearTimeout(movementTimeout);
                                        document.querySelector(`.gridNumber${u}`).style.backgroundColor = enemyGhostColor;
                                        }}
                                    }}}
                        }, {
                        name: 'phantom',
                        color: 'white',
                        speed: 3000,
                        attackSpeed: 5000,
                        secondaryAttackSpeed: 10000,
                        enemyF: () => {
                            if (enemyNameCheck === 'phantom') {
                for (let u=0; u<64; u++) {
                let GridArea = grid[u];
                    if (GridArea.barrier === 'enemy') {
                        let stopRight = 'false';
                        let stopLeft = 'false';
                        let enemySunbeamDirectionCheck;
                        let enemySunbeamDirection
                        let enemySunbeamRandomizer = (Math.random()*100).toFixed(0);
                        if (enemySunbeamRandomizer <= 50) {
                            enemySunbeamDirection = [8,16,24,32,40,48,56,-8,-16,-24,-32,-40,-48,-56];
                            enemySunbeamDirectionCheck = 'column'
                        }
                        if (enemySunbeamRandomizer > 50) {
                            enemySunbeamDirection = [1,2,3,4,5,6,7,-1,-2,-3,-4,-5,-6,-7];
                            enemySunbeamDirectionCheck = 'row';
                        document.querySelector('.selectSunbeamDirectionClass').style.display = 'none';
                        }
                        let area = Number(GridArea.gridNum);
                        enemySunbeamDirection.forEach((sunbeamValue) => {
                            let sunPos = Number(area + sunbeamValue);
                            if (sunPos < 0 || sunPos > 63) {} else if ((stopRight === 'true' && sunbeamValue > 0)||(stopLeft === 'true' && sunbeamValue < 0)) {} else {
                                if (enemySunbeamDirectionCheck === 'row' && ((area <= 7 && sunPos > 7)||(area >= 8  && area <= 15 && (sunPos < 8 || sunPos >15))||(area >= 16  && area <= 23 && (sunPos < 16 || sunPos >23))||(area >= 24 && area <= 31 && (sunPos < 24 || sunPos >31))||(area >= 32  && area <= 39 && (sunPos < 32 || sunPos >39))||(area >= 40  && area <= 47 && (sunPos < 40 || sunPos >47))||(area >= 48  && area <= 55 && (sunPos < 48 || sunPos >55))||(area >= 56  && area <= 63 && (sunPos < 56 || sunPos >63)))) {} 
                                else if (grid[sunPos].barrier === 'true') {
                                if (sunbeamValue > 0) {
                                    stopRight = 'true'
                                }
                                if (sunbeamValue < 0) {
                                    stopLeft = 'true'
                                }
                            } else {
                        document.querySelector(`.gridNumber${sunPos}`).style.backgroundColor = 'yellow';
                            setTimeout(() => {
                                document.querySelector(`.gridNumber${sunPos}`).style.backgroundColor = gridBackgroundColor;
                                
                            }, 1000);
                        if (grid[sunPos].barrier === 'player') {
                            if (ability === 'death-insurance') {
                                deathInsuranceCheck();
                            }else {
                            grid[sunPos].barrier = 'false';
                            gameOver();
                            }
                            }}}})
                        }}}
 
                        },
                        enemyFTwo: () => {
                            if (enemyNameCheck === 'phantom') {
                            if (ability !== 'ghost-hunter') {
                                enemyGhostColor = 'rgba(0, 0, 0, 0)'
                                for (let u=0; u<64; u++) {
                                area = grid[u];
                                    if (area.barrier === 'enemy') {
                                        area.barrier = 'enemyGhost';
                                        clearTimeout(movementTimeout);
                                        document.querySelector(`.gridNumber${u}`).style.backgroundColor = enemyGhostColor;
                                        }}
                                    }}}
                    }, {
                        name: 'bacteria',
                        color: 'rgb(121, 109, 0)',
                        speed: 4000,
                        attackSpeed: 30000,
                        secondaryAttackSpeed: 0,
                        enemyF: () => {
                            if (enemyNameCheck === 'bacteria') {
                            for (let a = 0; a < enemyCount; a++) {
                                setTimeout(() => {
                                    enemyCount++;
                                },1000);
                                pushEnemySpawn();
                                }
                        }                            
                    },
                        enemyFTwo: () => {}
                    }];
                        
                        let enemyName = 'zombie'
                        let enemyColor = 'lime'
                        let enemySpeed = '1000'
                        let enemyAttackSpeed = '0'
                        let secondaryEnemyAttackSpeed = '0'
                        let enemyFunction = () => {};
                        let secondaryEnemyFunction = () => {};
                    let round = 1;
                    let enemyNameCheck = 'zombie';
                    let startNewRound = 'true';
                    let manualStart = 'false';

                    let callRemote;
                    let wallDirection;
                    let sunbeamDirectionCheck;
                    let sunbeamDirection;
                    let callControl;
                    let enemyControlDirection;
                    let bombRhombus = [-16,-9,-8,-7,-2,-1,1,2,7,8,9,16];
                    let playerGhostPresence = 'false';
                    let swordSquarePositionIdentifier;
                    let dashSquarePositionIdentifier;
                    let barrierRandom;
                    let playerRandom;
                    let playerPos;
                    let displayedPuzzle;
                    let puzzleDif;
                    let puzzleFunction = () => {};
                    let puzzlePoints = 0;
                    let puzzleAnswer;
                    let puzzleNum;
                    let inzonePuzzle6 = 'false';
                    let inzoneTimeout;
                    let inzoneTimeoutCancel;
                    let puzzle8called = 'false';
                    let mousePresence1P8 = 'true';
                    let mousePresence2P8 = 'false';
                    let mousePresence3P8 = 'false';
                    let mousePresence4P8 = 'false';
                    let mousePresence5P8 = 'false';
                    ///
                    let points = 10;
                    ///
                    let replaceBarrier = 'false'
                    let arrowBtnCheck = 'false';
                    let walkDirection;
                    let wasdBtnCheck = 'false';
                    let punchDirection;
                    let totalEnemiesKilled = 0;
                    let zoneColorChange = 'purple'
                    let dashCallCheck = 'false'
                    let endRound = setTimeout(()=>{},10000)
                    const grid = [];
                    function pushGrid() {
                        if (gameMode === 'endless' && subGameMode === 'custom') {
                            document.querySelector('.mainMenu').style.display = 'none';
                            document.querySelector('.customGameModeMenu').style.display = 'block';
                            //document.querySelector('.customGameModeMenu').innerHTML = localStorage.getItem('customMenuHTML', customMenuHTML);
                        } else {
                            moveToInteractableGame()
                        }}
                        function moveToInteractableGame() {
                        /*if (difficulty === 'Hard') {
                            console.log('hard mode active');
                            ability = 'none';
                        }*/
                        document.querySelector('.interactableGame').style.backgroundColor = gridBackgroundColor;
                        /*Each square info*/ for(let i=0; i<64; i++) {
                            grid.push({
                                'gridNum': i,
                                'barrier': 'false',
                                'gridDiv': `<div class='gridNumber${i} gridDivs'></div>`,
                                'zone':'false',
                                'item':'none',
                            });
                        }
                        grid.forEach((space) => {
                            document.querySelector('.interactableGame').innerHTML += space.gridDiv;
                            })
                        /*barriers*/ if (gameMode !== 'protect the zone') {
                            for (e=0; e<15; e++) {
                                runBarrier();
                                    function runBarrier() {
                                        barrierRandom = Number((Math.random()*100).toFixed(0));
                                        if (barrierRandom > 63) {
                                            runBarrier();
                                        }}
                                        grid.forEach((square) => {
                                        if (barrierRandom === square.gridNum) {
                                            square.barrier = 'true';
                                            document.querySelector(`.gridNumber${square.gridNum}`).style.backgroundColor = gridBarrierColor;
                                        };
                                        });
                                    }
                            }
                            else if (gameMode === 'protect the zone') {
                                grid.forEach((square)=>{
                                    let s = square.gridNum
                                    if (s === 10 ||s === 13||s === 17||s === 22||s === 45||s === 42||s === 50||s === 53) {
                                        grid[s].barrier = 'true';
                                        document.querySelector(`.gridNumber${s}`).style.backgroundColor = gridBarrierColor;
                                    }
                                    if (s===18||s===19||s===20||s===21||s===26||s===27||s===28||s===29||s===34|s===35||s===36||s===37||s===43||s===44) {
                                        grid[s].zone = 'true';
                                        document.querySelector(`.gridNumber${s}`).style.borderColor = 'yellow';
                                        document.querySelector(`.gridNumber${s}`).style.backgroundColor = 'purple';
                                        setInterval(()=>{
                                            if (grid[s].barrier !== 'player') {
                                            if (zoneColorChange === 'normal') {
                                            document.querySelector(`.gridNumber${s}`).style.backgroundColor = 'purple';} 
                                            else if (zoneColorChange === 'purple') {
                                               document.querySelector(`.gridNumber${s}`).style.backgroundColor = gridBackgroundColor;}
                                    }},1000)}
                                    //10,13,17,22,45,45,42,50,53
                                })
                                setInterval(()=>{
                                            if (zoneColorChange === 'normal') {
                                                zoneColorChange = 'purple'}
                                                else if (zoneColorChange === 'purple') {
                                                zoneColorChange = 'normal'}
                                        },1000)
                            }
                            runPlayerSpawn();
                        function runPlayerSpawn() {
                        playerRandom = Number((Math.random()*63).toFixed(0));
                        grid.forEach((square) => {
                        if (playerRandom === square.gridNum) {
                            square.barrier = 'player';
                            document.querySelector(`.gridNumber${square.gridNum}`).style.backgroundColor = avatarColor;
                            if (avatarPhoto !== 'none') {
                            document.querySelector(`.gridNumber${square.gridNum}`).innerHTML = `<image class='avatarPic' src='${avatarPhoto}'>`
                            }
                        }})
                        }
                        if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
                                document.querySelectorAll('.mobileArrowsDiv').forEach((mobileAccess)=>{
                                    mobileAccess.style.display = 'block';
                                })
                            }
                        document.body.addEventListener('keydown', (keyPressed) => {
                            if (points >= 2 || dashCallCheck === 'true') {
                            checkKey(keyPressed);
                            } else if (keyPressed.key === 'ArrowUp'||keyPressed.key === 'ArrowDown'||keyPressed.key === 'ArrowRight'||keyPressed.key === 'ArrowLeft'||keyPressed.key === ','||keyPressed.key === '.'||keyPressed.key === '/'||keyPressed.key === ';') {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                            }
                            /*Standard abilities (walk and punch)*/
                            
                   
                                if (keyPressed.key === '!') {
                                    callSpell1();
                                }
                                if (keyPressed.key === '@') {
                                    callSpell2();
                                }
                                if (keyPressed.key === '#') {
                                    callSpell3();
                                }
                                if (keyPressed.key === '$') {
                                    callSpell4();
                                }
            })
                    pushEnemySpawn(); enemyAlgorithm(); goToGame(); loadPuzzles();}

                    function checkKey(keyPressed) {
                                
                                if (keyPressed.key === 'ArrowUp') {
                                walkDirection = -8;
                                arrowBtnCheck = 'true';
                                }
                                if (keyPressed.key === 'ArrowDown') {
                                walkDirection = 8;
                                arrowBtnCheck = 'true';
                                }
                                if (keyPressed.key === 'ArrowRight') {
                                walkDirection = 1;
                                arrowBtnCheck = 'true';
                                }
                                if (keyPressed.key === 'ArrowLeft') {
                                walkDirection = -1;
                                arrowBtnCheck = 'true';
                                }

                                if (arrowBtnCheck === 'true') {
                                    arrowBtnCheck = 'false';
                                    movePlayer();
                            }
                            
                            if (keyPressed.key === ';') {
                                    wasdBtnCheck = 'true';
                                    punchDirection = -8
                                }
                                if (keyPressed.key === '.') {
                                    wasdBtnCheck = 'true';
                                    punchDirection = 8
                                }
                                if (keyPressed.key === `/`) {
                                    wasdBtnCheck = 'true';
                                    punchDirection = 1
                                }
                                if (keyPressed.key === ',') {
                                    wasdBtnCheck = 'true';
                                    punchDirection = -1
                                }

                                if (wasdBtnCheck === 'true') {
                                    wasdBtnCheck = 'false';
                                    playerPunch();
                        }
                        }
                            function playerPunch() {
                            if (points >= 2) {
                for (let u=0; u<64; u++) {
                let area = grid[u];
                    if (area.barrier === 'player') {
                        wasdBtnCheck = 'false';
                        let punchPos = Number(area.gridNum + punchDirection);
                        if ((punchPos < 0 || punchPos > 63)||(punchDirection === 1 && (punchPos === 8 || punchPos === 16 || punchPos === 24 || punchPos === 32 || punchPos === 40 || punchPos === 48 || punchPos === 56))||(punchDirection === -1 && (punchPos === 7 || punchPos === 15 || punchPos === 23 || punchPos === 31 || punchPos === 39 || punchPos === 47 || punchPos === 55))) {
                            document.querySelector('.barrierAlert').innerHTML = 'You cannot attack outside the map';
                                setTimeout(() => {
                                document.querySelector('.barrierAlert').innerHTML = '';
                            }, 3000);
                                break;
                        }
                        else {
                            points = points - 2;
                        document.querySelector(`.gridNumber${punchPos}`).innerHTML= `<image class='spellImageSquareFit' src='https://pngimg.com/d/fist_PNG2.png'>`;  
                            setTimeout(() => {
                                document.querySelector(`.gridNumber${punchPos}`).innerHTML= ``;
                            }, 1000);
                        if (grid[punchPos].barrier === 'enemy') {
                                            grid[punchPos].barrier = 'false';
                                            document.querySelector(`.gridNumber${punchPos}`).style.backgroundColor = gridBackgroundColor;
                                            enemiesKilled++;
                                            totalEnemiesKilled++;
                                            checkEnemyPresence();
                                                break;
                                        }
                                        else {
                                             if (grid[punchPos].barrier === 'true') {
                                document.querySelector('.barrierAlert').innerHTML = 'You cannot attack through barriers.';
                                setTimeout(() => {
                                document.querySelector('.barrierAlert').innerHTML = '';
                            }, 3000);
                                break;
                            }
                        
                            setTimeout(() => {
                                document.querySelector(`.gridNumber${punchPos}`).innerHTML= ``;
                            }, 1000);
                }
                                }}

                    }
                points = points - 2;
                updateStats();} else {
                    document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                document.querySelector('.barrierAlert').innerHTML = '';
                            }, 3000);
                }}
                        
                            function movePlayer() {
                                if (points > 1) {
                                for (let u=0; u<64; u++) {
                                let area = grid[u];
                                if (area.barrier === 'player' || area.barrier === 'playerGhost') {
                                    let playerPos = Number(area.gridNum + walkDirection)
                                        if ((playerPos < 0 || playerPos > 63)||(walkDirection === 1 && (playerPos === 8 || playerPos === 16 || playerPos === 24 || playerPos === 32 || playerPos === 40 || playerPos === 48 || playerPos === 56))||(walkDirection === -1 && (playerPos === 7 || playerPos === 15 || playerPos === 23 || playerPos === 31 || playerPos === 39 || playerPos === 47 || playerPos === 55))) {
                                            document.querySelector('.barrierAlert').innerHTML = 'You cannot move outside the map.'
                                            setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                                            break;
                                        }
                                        if (grid[playerPos].barrier === 'enemy' || grid[playerPos].barrier === 'enemyGhost') {
                                            document.querySelector('.barrierAlert').innerHTML = 'You cannot move through enemies.';
                                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                                                break;
                                        }
                                        if (replaceBarrier === 'true') {
                                        area.barrier = 'true';
                                        document.querySelector(`.gridNumber${area.gridNum}`).style.backgroundColor = gridBarrierColor;
                                        document.querySelector(`.gridNumber${area.gridNum}`).innerHTML=''
                                        replaceBarrier = 'false';
                                        }
                                        if (ability === 'transfusion') {
                                            if (grid[playerPos].barrier === 'true') {
                                                replaceBarrier = 'true';
                                            }
                                            if (area.barrier !== 'true') {
                                                area.barrier = 'false';
                                                document.querySelector(`.gridNumber${area.gridNum}`).style.backgroundColor = gridBackgroundColor;
                                                document.querySelector(`.gridNumber${area.gridNum}`).innerHTML='';
                                            }
                                        } else if (grid[playerPos].barrier === 'true') {
                                                document.querySelector('.barrierAlert').innerHTML = 'You cannot move through barriers.';
                                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                                                break;
                                            }
                                            else {
                                                area.barrier = 'false';
                                                document.querySelector(`.gridNumber${area.gridNum}`).style.backgroundColor = gridBackgroundColor;
                                                document.querySelector(`.gridNumber${area.gridNum}`).innerHTML=''
                                            }
                                            ////
                                            if (area.item !== 'none') {
                                                itemObtained(area.item);
                                                area.item = 'none'
                                            }
                                            ////
                                        grid[playerPos].barrier = 'player';
                                        document.querySelector(`.gridNumber${playerPos}`).style.backgroundColor = avatarColor;
                                        if (avatarPhoto !== 'none') {
                                        document.querySelector(`.gridNumber${playerPos}`).innerHTML= `<image class='avatarPic' src='${avatarPhoto}'>`
                                        }
                                        if (playerGhostPresence === 'true') {
                            document.querySelector(`.gridNumber${playerPos}`).style.backgroundColor = 'rgba(255, 0, 0, 0.539)';
                            grid[playerPos].barrier = 'playerGhost';
                        };
                                if (dashCallCheck === 'false') {
                                        points = points - 2;
                                        updateStats();
                                        break;}
                                       else if (dashCallCheck === 'sub') {
                                dashCallCheck = 'false';
                                break;
                            }
                            break;
                                        }}
                                if (dashCallCheck === 'true') {
                                dashCallCheck = 'sub';
                                movePlayer();
                            }} else {document.querySelector('.barrierAlert').innerHTML = 'Not enough points!'
                        setTimeout(() => {
                            document.querySelector('.barrierAlert').innerHTML = ``;
                        }, 3000);}
                        }

   
                    /*Enemy Generation*/
                    let enemiesKilled = 0;
                    let enemyCount = 4; 
                    let enemiesSpawned = 0;
                    
                    function selectEnemySet() {

                       grid.forEach((square) => {
                            if (square.barrier === 'player') {
                                square.barrier = 'playerGhost';
                                document.querySelector(`.gridNumber${square.gridNum}`).style.backgroundColor = 'rgba(255, 0, 0, 0.539)';
                                setTimeout(() => {
                                    grid.forEach((space) => {
                                        if (space.barrier === 'playerGhost') {
                                        space.barrier = 'player';
                                document.querySelector(`.gridNumber${space.gridNum}`).style.backgroundColor = avatarColor;
                                        }
                                    })
                                },2000)
                            }
                        })
                        enemyCount = 4;
                       endRound = setTimeout(() => {
                            grid.forEach((square) => {
                                if (square.barrier === 'enemy' || square.barrier === 'enemyGhost') {
                                    square.barrier = 'false';
                                    document.querySelector(`.gridNumber${square.gridNum}`).style.backgroundColor = gridBackgroundColor
                                }
                            })
                            manualStart = 'true';
                            checkEnemyPresence();
                        },40000);
                        if (gameMode === 'endless') {
                        let enemySetNum = Number((Math.random()*100).toFixed(0));
                        if (enemySetNum < 20) {
                            enemyNameCheck = 'greater-zombie';
                            findEnemyTypeAssignment();
                            pushEnemySpawn()
                        }
                        if (enemySetNum >= 20 && enemySetNum <30) {
                            enemyNameCheck = 'husk';
                            findEnemyTypeAssignment();
                            pushEnemySpawn()
                        }
                        if (enemySetNum >= 30 && enemySetNum <40) {
                            enemyNameCheck = 'virus';
                            findEnemyTypeAssignment();
                            pushEnemySpawn()
                        }
                        if (enemySetNum >= 40 && enemySetNum <50) {
                            enemyNameCheck = 'hole';
                            findEnemyTypeAssignment();
                            pushEnemySpawn()
                        }
                        if (enemySetNum >= 50 && enemySetNum <60) {
                            enemyNameCheck = 'vampire';
                            findEnemyTypeAssignment();
                            pushEnemySpawn()
                        }
                        if (enemySetNum >= 60 && enemySetNum <70) {
                            enemyNameCheck = 'phantom';
                            findEnemyTypeAssignment();
                            pushEnemySpawn()
                        }
                        if (enemySetNum >= 70 && enemySetNum < 80) {
                            enemyNameCheck = 'bacteria';
                            findEnemyTypeAssignment();
                            pushEnemySpawn()
                        }
                        if (enemySetNum >= 80 && enemySetNum <90) {
                                    gooseChaseRound();
                                    clearEnemyTypeAssignment();
                        }
                        if (enemySetNum >= 90 && enemySetNum <95) {
                                    bombRound();
                                    clearEnemyTypeAssignment();
                        }
                        if (enemySetNum >= 95 && enemySetNum <=100) {
                                    zombieBossfight();
                        }
                        
                        function clearEnemyTypeAssignment() {
                                    enemyName;
                                    enemyColor;
                                    enemySpeed;
                                    enemyAttackSpeed;
                                    secondaryEnemyAttackSpeed;
                                    enemyFunction = ()=>{};
                                    secondaryEnemyFunction = ()=>{};
                        }

                        function findEnemyTypeAssignment() {
                        enemyType.forEach((type) => {
                                if (enemyNameCheck === type.name) {
                                    console.log(type);
                                    enemyName = type.name;
                                    enemyColor = type.color;
                                    enemySpeed = type.speed;
                                    enemyAttackSpeed = type.attackSpeed;
                                    secondaryEnemyAttackSpeed = type.secondaryAttackSpeed;
                                    enemyFunction = type.enemyF;
                                    secondaryEnemyFunction = type.enemyFTwo;
                                }
                            })}
                    /*Spawning Items*/
                if (round % 2 === 0) {
                    generateItem();
                    function generateItem() {
                    let randomItemNum = Number(Math.round(Math.random()*4))
                    let randomItemPositionNum =  Number(Math.round(Math.random()*63))
                    items.forEach((collectible, index)=>{
                        if (index === randomItemNum) {
                            if (grid[randomItemPositionNum].barrier === 'false') {
                            grid[randomItemPositionNum].item = collectible.name;
                            document.querySelector(`.gridNumber${randomItemPositionNum}`).style.backgroundColor = 'teal'
                            document.querySelector(`.gridNumber${randomItemPositionNum}`).innerHTML = `<image style='width:100%;height:100%;' src='${collectible.image}''>`
                        } else generateItem()}
                    })}
                }}};
                    function pushEnemySpawn() {
                        //if (gameMode === 'endless') {
                                runEnemySpawn();
                        function runEnemySpawn() {
                        let enemyRandom = Number((Math.random()*63).toFixed(0));
                        grid.forEach((square) => {
                        if (enemyRandom === square.gridNum) {
                            if (square.barrier !== 'false') {
                                runEnemySpawn();
                            } else {
                                
                                if (gameMode === 'capture the point') {
                                    if (square.zone !== 'true') {
                                    square.barrier = 'enemy';
                            document.querySelector(`.gridNumber${square.gridNum}`).style.backgroundColor = enemyColor;
                                } else {runEnemySpawn();}} else {
                            square.barrier = 'enemy';
                            document.querySelector(`.gridNumber${square.gridNum}`).style.backgroundColor = enemyColor;
                            }}
                        }})
                        }//}
                            
                        enemiesSpawned++;
                        addEnemies();
                    }
                    function addEnemies () {
                        if (enemiesSpawned < enemyCount) {
                        setTimeout(() => {
                            pushEnemySpawn();
                        }, 500);
                        }
                    }
                    function enemyAlgorithm() {
                            enemyMovement();
                        enemyAttack();
                        enemyAttackTwo();
                            setInterval(() => {enemyMovement();}, enemySpeed)}
                            
                    function enemyMovement() {
                        grid.forEach((square) => {
                            if (square.barrier === 'enemy' || square.barrier === 'enemyGhost') {
                                let enemyDirectionRandom;
                            let directionRandomizer = Number((Math.random()*100).toFixed(0));
                            if (directionRandomizer <= 25) {
                                enemyDirectionRandom = -8
                            }
                            else if (directionRandomizer > 25 && directionRandomizer <= 50) {
                                enemyDirectionRandom = 8
                            }
                            else if (directionRandomizer > 50 && directionRandomizer <= 75) {
                                enemyDirectionRandom = -1
                            }
                            else if (directionRandomizer > 75) {
                                enemyDirectionRandom = 1
                            }
                            movementTimeout = setTimeout(() => {
                                let enemyArea = grid[square.gridNum];
                                    if (enemyArea.barrier === 'enemy' || enemyArea.barrier === 'enemyGhost') {
                                        let enemyPos = Number(enemyArea.gridNum + enemyDirectionRandom);
                                        if (enemyDirectionRandom === 1 && (enemyPos === 8 || enemyPos === 16 || enemyPos === 24 || enemyPos === 32 || enemyPos === 40 || enemyPos === 48 || enemyPos === 56)) {}
                                        else if (enemyDirectionRandom === -1 && (enemyPos === 7 || enemyPos === 15 || enemyPos === 23 || enemyPos === 31 || enemyPos === 39 || enemyPos === 47 || enemyPos === 55)) {}
                                        else if (enemyPos < 0 || enemyPos > 63) {
                                        } else if (grid[enemyPos].barrier !== 'false') {
                                            if (enemyNameCheck === 'bacteria' && grid[enemyPos].barrier === 'player') {
                                                grid[enemyPos].barrier = 'enemy';
                                        document.querySelector(`.gridNumber${enemyPos}`).style.backgroundColor = enemyColor;
                                                gameOver();
                                            }} else {
                                                if (grid[enemyPos].zone === 'true') {
                                                    gameOver();
                                                }
                                                enemyArea.barrier = 'false';
                                                document.querySelector(`.gridNumber${enemyArea.gridNum}`).style.backgroundColor = gridBackgroundColor;
                                                if (enemyArea.barrier === 'enemyGhost') {
                                        grid[enemyPos].barrier = 'enemyGhost';
                                        document.querySelector(`.gridNumber${enemyPos}`).style.backgroundColor = enemyGhostColor;
                                                } else {
                                        grid[enemyPos].barrier = 'enemy';
                                        document.querySelector(`.gridNumber${enemyPos}`).style.backgroundColor = enemyColor;
                                                }}}
                            },enemySpeed);
                            };
                        })}
                    function enemyAttack() {
                            if (enemyAttackSpeed !== 0) {
                                setTimeout(() => {
                                    enemyFunction();
                                    enemyAttack();
                                }, enemyAttackSpeed)
                            }}
                    function enemyAttackTwo() {
                                if (secondaryEnemyAttackSpeed !== 0) {
                                setTimeout(() => {
                                    secondaryEnemyFunction();
                                    enemyAttackTwo();
                                }, secondaryEnemyAttackSpeed)
                            }}
                            
                    function checkEnemyPresence() {
                        startNewRound = 'true';
                        grid.forEach((square) => {
                            if(square.barrier === 'enemy' || square.barrier === 'enemyGhost') {startNewRound = 'false'}
                        });
                        if (startNewRound === 'true' || manualStart === 'true') {
                            manualStart = 'false'
                            round++;
                            updateStats();
                            enemiesKilled = 0;
                            enemiesSpawned = 0;
                            if (gameMode === 'endless') {
                                startNewRound = 'false';
                                manualStart = 'false';
                            selectEnemySet();
                            clearTimeout(endRound);
                            clearInterval(zombieRay);
                            }
                        }
                    }
                    document.querySelector('.manualNewRound').addEventListener('click', () => {
                        manualStart = 'true';
                        grid.forEach((square) => {
                            if (square.barrier === 'enemy' || square.barrier === 'enemyGhost') {
                                manualStart = 'false';
                            }
                        })
                        if (manualStart === 'false') {
                            document.querySelector('.barrierAlert').innerHTML = 'You must finish the current round first';
                            setTimeout(() => {
                                document.querySelector('.barrierAlert').innerHTML = '';
                            },3000)
                        }
                        else {
                            checkEnemyPresence();
                        }
                    })
                    let gooseSpotsNum = Number(0)
                    function gooseChaseRound() {
                        gooseSpotsNum = Number(0);
                        let randomPosition;
                        pickSpot();
                        function pickSpot() {
                            let countdownNum = 10;
                            let countdown;
                            randomPosition = Number((Math.random()*63).toFixed(0));
                            if (grid[randomPosition].barrier === 'false') {
                        grid.forEach((square)=> {
                            if (square.gridNum === randomPosition) {
                                document.querySelector(`.gridNumber${randomPosition}`).style.backgroundColor = 'rgb(169, 2, 2)';
                                countdown = setInterval(()=>{
                                   if (countdownNum < 0) {
                                    clearInterval(countdown);
                                    if (grid[randomPosition].barrier === 'player' || grid[randomPosition].barrier === 'playerGhost') {
                                        if (gooseSpotsNum === 2) {
                                            round++;
                                            clearInterval(countdown)
                                            gooseSpotsNum = 0;
                                           selectEnemySet();
                                        } else {
                                            gooseSpotsNum++;
                                            pickSpot();
                                    }} else {
                                        gameOver();
                                    }
                                   } else {
                                    document.querySelector(`.gridNumber${randomPosition}`).innerHTML = `<h1 style="margin:auto; top:50%; text-align:center;">${String(countdownNum)}</h1>`;
                                    document.querySelector(`.gridNumber${randomPosition}`).style.top = '-58px';
                                    document.querySelector(`.gridNumber${randomPosition}`).style.marginBottom = '-70px';
                                    countdownNum--;
                                   }
                                },1000);
                            }
                        })} else {
                            pickSpot();
                        }}
                    }
                    let bombRoundNumber = 1;
                    let bombRoundSpeed = 1000;
                    function bombRound() {
                        if (bombRoundNumber < 100) {
                            let bombSquare = Number((Math.random()*63).toFixed(0));
                            document.querySelector(`.gridNumber${bombSquare}`).style.backgroundColor = 'rgba(88, 59, 0, 0.434)'
                            if (bombRoundNumber<=5) {
                                bombRoundSpeed = 1000;
                            } else if (bombRoundNumber >5 && bombRoundNumber <=40) {
                                bombRoundSpeed = 400;
                            } else if (bombRoundNumber >40 && bombRoundNumber <= 70) {
                                bombRoundSpeed = 200;
                            } else {
                                bombRoundSpeed = 50;
                            }
                                setTimeout(()=>{
                                    document.querySelector(`.gridNumber${bombSquare}`).style.backgroundColor = 'orange';
                                    setTimeout(()=>{
                                        document.querySelector(`.gridNumber${bombSquare}`).style.backgroundColor = gridBackgroundColor;
                                        if (grid[bombSquare].barrier === 'true') {
                                            grid[bombSquare].barrier = 'false'
                                        }
                                    },500)
                                    if (grid[bombSquare].barrier === 'player') {
                                        grid[bombSquare].barrier = 'false'
                                        gameOver();
                                    }
                                    bombRound();
                                },bombRoundSpeed)
                                bombRoundNumber++
                        } else {
                            bombRoundSpeed = 1000;
                            bombRoundNumber = 1;
                            round++;
                            selectEnemySet();
                        }}
                    let zombieRay;
                        function zombieBossfight() {
                        document.querySelector('.zombieFace').style.display = 'flex';
                        enemyCount = 10;
                        let zombieSunbeamDirectionColumn = [0,8,16,24,32,40,48,56,-8,-16,-24,-32,-40,-48,-56]
                        setTimeout(()=>{
                        enemyType.forEach((type) => {
                                if (type.name === 'greater-zombie') {
                                    enemyName = type.name;
                                    enemyColor = type.color;
                                    enemySpeed = type.speed;
                                    enemyAttackSpeed = type.attackSpeed;
                                    secondaryEnemyAttackSpeed = type.secondaryAttackSpeed;
                                    enemyFunction = type.enemyF;
                                    secondaryEnemyFunction = type.enemyFTwo;
                                }})
                                document.querySelector('.zombieFace').style.display = 'none';
                            addEnemies();
                            zombieRay = setInterval(()=>{
                for (let u=0; u<64; u++) {
                let GridArea = grid[u];
                    if (GridArea.barrier === 'player') {
                        area = Number(GridArea.gridNum);
                        zombieSunbeamDirectionColumn.forEach((sunbeamValue) => {
                            let sunPos = Number(area + sunbeamValue);
                            if (sunPos < 0 || sunPos > 63) {}
                                else if (grid[sunPos].barrier === 'true') {} else {
                                    if (grid[sunPos].barrier !== 'player' && grid[sunPos].barrier !== 'playerGhost' && grid[sunPos].barrier !== 'enemy') {
                                    document.querySelector(`.gridNumber${sunPos}`).style.backgroundColor = 'white';
                                }
                                setTimeout(()=>{
                                    if (grid[sunPos].barrier !== 'enemy') {
                                    document.querySelector(`.gridNumber${sunPos}`).style.backgroundColor = 'yellow';
                                }
                        if (grid[sunPos].barrier === 'player'|| grid[sunPos].barrier === 'playerGhost') {
                        gameOver();
                        }
                            setTimeout(() => {
                                document.querySelector(`.gridNumber${sunPos}`).style.backgroundColor = gridBackgroundColor;
                            }, 1000)},2000);
                        }})
                    }
                }},3000)   },5000)
                            setTimeout(()=>{
                        enemyType.forEach((type) => {
                                if (type.name === 'husk') {
                                    enemyName = type.name;
                                    enemyColor = type.color;
                                    enemySpeed = type.speed;
                                    enemyFunction = type.enemyF;
                                    secondaryEnemyFunction = type.enemyFTwo;
                                    enemyAttackSpeed = type.attackSpeed;
                                    secondaryEnemyAttackSpeed = type.secondaryAttackSpeed;
                                }})
                            addEnemies()},20000);
                    
                        }
                        /*Spells In-game*/
                    
                        document.querySelectorAll('.executeSpell1').forEach((execution)=>execution.addEventListener('click', () =>{callSpell1()}))
                        document.querySelectorAll('.executeSpell2').forEach((execution)=>execution.addEventListener('click', () =>{callSpell2()}))
                        document.querySelectorAll('.executeSpell3').forEach((execution)=>execution.addEventListener('click', () =>{callSpell3()}))
                        document.querySelectorAll('.executeSpell4').forEach((execution)=>execution.addEventListener('click', () =>{callSpell4()}))
                    function callSpell1() {
                        if (spell1.name === 'Dash') {
                            if (ability === 'cheapskate' && points < 2) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                            }
                        else if (ability !== 'cheapskate' && points < 3) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);                            }
                            else {
                                conjureDash();                            if (ability === 'cheapskate'){
                            points = points - 2
                        }
                        else {
                        points = points - 3;
                        }
                            }
                        }
                        else if (spell1.name === 'Sword') {
                            if (ability === 'cheapskate' && points < 2) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                            }
                        else if (ability !== 'cheapskate' && points < 3) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);                            }
                            else {
                            document.querySelector('.selectSwordDirectionClass').style.display = 'block';
                            if (ability === 'cheapskate'){
                            points = points - 2
                        }
                        else {
                        points = points - 3;
                        }
                            }

                        }
                        else if (spell1.name === 'Ghost') {
                            if (ability === 'cheapskate' && points < 4) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                            }
                        else if (ability !== 'cheapskate' && points < 5) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);                            }
                            else {
                            conjureGhost();
                            if (ability === 'cheapskate'){
                            points = points - 4
                        }
                        else {
                        points = points - 5;
                        }
                            }
                        }
                        else if (spell1.name === 'Control') {
                            if (ability === 'cheapskate' && points < 4) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                            }
                        else if (ability !== 'cheapskate' && points < 5) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);                            }
                            else {
                            document.querySelector('.selectControlDirectionClass').style.display='block';
                            if (ability === 'cheapskate'){
                            points = points - 4
                        }
                        else {
                        points = points - 5;
                        }
                            }
                        }
                        else if (spell1.name === 'Sunbeam') {
                            if (ability === 'cheapskate' && points < 5) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                            }
                        else if (ability !== 'cheapskate' && points < 6) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);                            }
                            else {
                            document.querySelector('.selectSunbeamDirectionClass').style.display = 'block'
                            if (ability === 'cheapskate'){
                            points = points - 5
                        }
                        else {
                        points = points - 6;
                        }
                            }
                        }
                        else if (spell1.name === 'Bomb') {
                            if (ability === 'cheapskate' && points < 6) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                            }
                        else if (ability !== 'cheapskate' && points < 7) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);                            }
                            else {
                            conjureBomb();
                            if (ability === 'cheapskate'){
                            points = points - 6
                        }
                        else {
                        points = points - 7;
                        }
                            }
                        }
                        else if (spell1.name === 'Teleporter') {
                            if (ability === 'cheapskate' && points < 6) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                            }
                        else if (ability !== 'cheapskate' && points < 7) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);                            }
                            else {
                            callTeleporter = 'true';
                            conjureTeleporter();
                            if (ability === 'cheapskate'){
                            points = points - 6
                        }
                        else {
                        points = points - 7;
                        }
                            }
                        }          
                        else if (spell1.name === 'Wall') {
                            if (ability === 'cheapskate' && points < 7) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                            }
                        else if (ability !== 'cheapskate' && points < 8) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);                            }
                            else {
                            callTeleporter = 'true';
                            document.querySelector('.selectWallDirectionClass').style.display = 'block';
                            if (ability === 'cheapskate'){
                            points = points - 7
                        }
                        else {
                        points = points - 8;
                        }
                            }
                        }    
                        else if (spell1.name === 'Remote') {
                            if (ability === 'cheapskate' && points < 9) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                            }
                        else if (ability !== 'cheapskate' && points < 10) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);                            }
                            else {
                            callRemote = 'true';
                            conjureRemote();
                            if (ability === 'cheapskate'){
                            points = points - 9
                        }
                        else {
                        points = points - 10;
                        }
                            }
                        }   
                        updateStats();
                    };
                    function callSpell2() {
                        if (spell2.name === 'Dash') {
                            if (ability === 'cheapskate' && points < 2) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                            }
                        else if (ability !== 'cheapskate' && points < 3) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);                            }
                            else {
                                conjureDash();
                            if (ability === 'cheapskate'){
                            points = points - 2
                        }
                        else {
                        points = points - 3;
                        }
                            }
                        }
                        else if (spell2.name === 'Sword') {
                            if (ability === 'cheapskate' && points < 2) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                            }
                        else if (ability !== 'cheapskate' && points < 3) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);                            }
                            else {
                            document.querySelector('.selectSwordDirectionClass').style.display = 'block';
                            if (ability === 'cheapskate'){
                            points = points - 2
                        }
                        else {
                        points = points - 3;
                        }
                            }

                        }
                        else if (spell2.name === 'Ghost') {
                            if (ability === 'cheapskate' && points < 4) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                            }
                        else if (ability !== 'cheapskate' && points < 5) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);                            }
                            else {
                            conjureGhost();
                            if (ability === 'cheapskate'){
                            points = points - 4
                        }
                        else {
                        points = points - 5;
                        }
                            }
                        }
                        else if (spell2.name === 'Control') {
                            if (ability === 'cheapskate' && points < 4) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                            }
                        else if (ability !== 'cheapskate' && points < 5) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);                            }
                            else {
                            document.querySelector('.selectControlDirectionClass').style.display='block';
                            if (ability === 'cheapskate'){
                            points = points - 4
                        }
                        else {
                        points = points - 5;
                        }
                            }
                        }
                        else if (spell2.name === 'Sunbeam') {
                            if (ability === 'cheapskate' && points < 5) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                            }
                        else if (ability !== 'cheapskate' && points < 6) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);                            }
                            else {
                            document.querySelector('.selectSunbeamDirectionClass').style.display = 'block'
                            if (ability === 'cheapskate'){
                            points = points - 5
                        }
                        else {
                        points = points - 6;
                        }
                            }
                        }
                        else if (spell2.name === 'Bomb') {
                            if (ability === 'cheapskate' && points < 6) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                            }
                        else if (ability !== 'cheapskate' && points < 7) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);                            }
                            else {
                            conjureBomb();
                            if (ability === 'cheapskate'){
                            points = points - 6
                        }
                        else {
                        points = points - 7;
                        }
                            }
                        }
                        else if (spell2.name === 'Teleporter') {
                            if (ability === 'cheapskate' && points < 6) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                            }
                        else if (ability !== 'cheapskate' && points < 7) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);                            }
                            else {
                            callTeleporter = 'true';
                            conjureTeleporter();
                            if (ability === 'cheapskate'){
                            points = points - 6
                        }
                        else {
                        points = points - 7;
                        }
                            }
                        }          
                        else if (spell2.name === 'Wall') {
                            if (ability === 'cheapskate' && points < 7) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                            }
                        else if (ability !== 'cheapskate' && points < 8) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);                            }
                            else {
                            callTeleporter = 'true';
                            document.querySelector('.selectWallDirectionClass').style.display = 'block';
                            if (ability === 'cheapskate'){
                            points = points - 7
                        }
                        else {
                        points = points - 8;
                        }
                            }
                        }    
                        else if (spell2.name === 'Remote') {
                            if (ability === 'cheapskate' && points < 9) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                            }
                        else if (ability !== 'cheapskate' && points < 10) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);                            }
                            else {
                            callRemote = 'true';
                            conjureRemote();
                            if (ability === 'cheapskate'){
                            points = points - 9
                        }
                        else {
                        points = points - 10;
                        }
                            }
                        }   
                        updateStats();
                    };
                    function callSpell3() {
                        if (spell3.name === 'Dash') {
                            if (ability === 'cheapskate' && points < 2) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                            }
                        else if (ability !== 'cheapskate' && points < 3) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);                            }
                            else {
                                conjureDash();
                            if (ability === 'cheapskate'){
                            points = points - 2
                        }
                        else {
                        points = points - 3;
                        }
                            }
                        }
                        else if (spell3.name === 'Sword') {
                            if (ability === 'cheapskate' && points < 2) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                            }
                        else if (ability !== 'cheapskate' && points < 3) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);                            }
                            else {
                            document.querySelector('.selectSwordDirectionClass').style.display = 'block';
                            if (ability === 'cheapskate'){
                            points = points - 2
                        }
                        else {
                        points = points - 3;
                        }
                            }

                        }
                        else if (spell3.name === 'Ghost') {
                            if (ability === 'cheapskate' && points < 4) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                            }
                        else if (ability !== 'cheapskate' && points < 5) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);                            }
                            else {
                            conjureGhost();
                            if (ability === 'cheapskate'){
                            points = points - 4
                        }
                        else {
                        points = points - 5;
                        }
                            }
                        }
                        else if (spell3.name === 'Control') {
                            if (ability === 'cheapskate' && points < 4) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                            }
                        else if (ability !== 'cheapskate' && points < 5) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);                            }
                            else {
                            document.querySelector('.selectControlDirectionClass').style.display='block';
                            if (ability === 'cheapskate'){
                            points = points - 4
                        }
                        else {
                        points = points - 5;
                        }
                            }
                        }
                        else if (spell3.name === 'Sunbeam') {
                            if (ability === 'cheapskate' && points < 5) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                            }
                        else if (ability !== 'cheapskate' && points < 6) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);                            }
                            else {
                            document.querySelector('.selectSunbeamDirectionClass').style.display = 'block'
                            if (ability === 'cheapskate'){
                            points = points - 5
                        }
                        else {
                        points = points - 6;
                        }
                            }
                        }
                        else if (spell3.name === 'Bomb') {
                            if (ability === 'cheapskate' && points < 6) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                            }
                        else if (ability !== 'cheapskate' && points < 7) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);                            }
                            else {
                            conjureBomb();
                            if (ability === 'cheapskate'){
                            points = points - 6
                        }
                        else {
                        points = points - 7;
                        }
                            }
                        }
                        else if (spell3.name === 'Teleporter') {
                            if (ability === 'cheapskate' && points < 6) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                            }
                        else if (ability !== 'cheapskate' && points < 7) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);                            }
                            else {
                            callTeleporter = 'true';
                            conjureTeleporter();
                            if (ability === 'cheapskate'){
                            points = points - 6
                        }
                        else {
                        points = points - 7;
                        }
                            }
                        }          
                        else if (spell3.name === 'Wall') {
                            if (ability === 'cheapskate' && points < 7) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                            }
                        else if (ability !== 'cheapskate' && points < 8) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);                            }
                            else {
                            callTeleporter = 'true';
                            document.querySelector('.selectWallDirectionClass').style.display = 'block';
                            if (ability === 'cheapskate'){
                            points = points - 7
                        }
                        else {
                        points = points - 8;
                        }
                            }
                        }    
                        else if (spell3.name === 'Remote') {
                            if (ability === 'cheapskate' && points < 9) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                            }
                        else if (ability !== 'cheapskate' && points < 10) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);                            }
                            else {
                            callRemote = 'true';
                            conjureRemote();
                            if (ability === 'cheapskate'){
                            points = points - 9
                        }
                        else {
                        points = points - 10;
                        }
                            }
                        }   
                        updateStats();
                    }
                    function callSpell4() {
                        if (spell4.name === 'Dash') {
                            if (ability === 'cheapskate' && points < 2) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                            }
                        else if (ability !== 'cheapskate' && points < 3) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);                            }
                            else {
                                conjureDash();
                            if (ability === 'cheapskate'){
                            points = points - 2
                        }
                        else {
                        points = points - 3;
                        }
                            }
                        }
                        else if (spell4.name === 'Sword') {
                            if (ability === 'cheapskate' && points < 2) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                            }
                        else if (ability !== 'cheapskate' && points < 3) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);                            }
                            else {
                            document.querySelector('.selectSwordDirectionClass').style.display = 'block';
                            if (ability === 'cheapskate'){
                            points = points - 2
                        }
                        else {
                        points = points - 3;
                        }
                            }

                        }
                        else if (spell4.name === 'Ghost') {
                            if (ability === 'cheapskate' && points < 4) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                            }
                        else if (ability !== 'cheapskate' && points < 5) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);                            }
                            else {
                            conjureGhost();
                            if (ability === 'cheapskate'){
                            points = points - 4
                        }
                        else {
                        points = points - 5;
                        }
                            }
                        }
                        else if (spell4.name === 'Control') {
                            if (ability === 'cheapskate' && points < 4) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                            }
                        else if (ability !== 'cheapskate' && points < 5) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);                            }
                            else {
                            document.querySelector('.selectControlDirectionClass').style.display='block';
                            if (ability === 'cheapskate'){
                            points = points - 4
                        }
                        else {
                        points = points - 5;
                        }
                            }
                        }
                        else if (spell4.name === 'Sunbeam') {
                            if (ability === 'cheapskate' && points < 5) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                            }
                        else if (ability !== 'cheapskate' && points < 6) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);                            }
                            else {
                            document.querySelector('.selectSunbeamDirectionClass').style.display = 'block'
                            if (ability === 'cheapskate'){
                            points = points - 5
                        }
                        else {
                        points = points - 6;
                        }
                            }
                        }
                        else if (spell4.name === 'Bomb') {
                            if (ability === 'cheapskate' && points < 6) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                            }
                        else if (ability !== 'cheapskate' && points < 7) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);                            }
                            else {
                            conjureBomb();
                            if (ability === 'cheapskate'){
                            points = points - 6
                        }
                        else {
                        points = points - 7;
                        }
                            }
                        }
                        else if (spell4.name === 'Teleporter') {
                            if (ability === 'cheapskate' && points < 6) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                            }
                        else if (ability !== 'cheapskate' && points < 7) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);                            }
                            else {
                            callTeleporter = 'true';
                            conjureTeleporter();
                            if (ability === 'cheapskate'){
                            points = points - 6
                        }
                        else {
                        points = points - 7;
                        }
                            }
                        }          
                        else if (spell4.name === 'Wall') {
                            if (ability === 'cheapskate' && points < 7) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                            }
                        else if (ability !== 'cheapskate' && points < 8) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);                            }
                            else {
                            callTeleporter = 'true';
                            document.querySelector('.selectWallDirectionClass').style.display = 'block';
                            if (ability === 'cheapskate'){
                            points = points - 7
                        }
                        else {
                        points = points - 8;
                        }
                            }
                        }    
                        else if (spell4.name === 'Remote') {
                            if (ability === 'cheapskate' && points < 9) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                            }
                        else if (ability !== 'cheapskate' && points < 10) {
                                document.querySelector('.barrierAlert').innerHTML = 'Not enough points!';
                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);                            }
                            else {
                            callRemote = 'true';
                            conjureRemote();
                            if (ability === 'cheapskate'){
                            points = points - 9
                        }
                        else {
                        points = points - 10;
                        }
                            }
                        }   
                        updateStats();
                    }


                //Dash function
                function conjureDash() {
                    dashCallCheck = 'true'
                }

                //Sword function
                function conjureSword() {
                for (let u=0; u<64; u++) {
                let area = grid[u];
                    if (area.barrier === 'player') {
                        let swordPos = Number(area.gridNum + swordSquarePositionIdentifier);
                        if ((swordPos < 0 || swordPos > 63)||(swordSquarePositionIdentifier === 1 && (swordPos === 8 || swordPos === 16 || swordPos === 24 || swordPos === 32 || swordPos === 40 || swordPos === 48 || swordPos === 56))||(swordSquarePositionIdentifier === -1 && (swordPos === 7 || swordPos === 15 || swordPos === 23 || swordPos === 31 || swordPos === 39 || swordPos === 47 || swordPos === 55))) {
                            document.querySelector('.barrierAlert').innerHTML = 'You cannot attack outside the map';
                                setTimeout(() => {
                                document.querySelector('.barrierAlert').innerHTML = '';
                            }, 3000);
                                break;
                        }
                        else {
                        document.querySelector(`.gridNumber${swordPos}`).innerHTML= `<image class='spellImageSquareFit swordPic' src='https://images.vexels.com/content/273074/preview/role-play-games-sword-icon-0b86ad.png'>`;
                            
                            setTimeout(() => {
                                document.querySelector(`.gridNumber${swordPos}`).innerHTML= ``;
                            }, 1000);
                        if (grid[swordPos].barrier === 'enemy') {
                                            grid[swordPos].barrier = 'false';
                                            document.querySelector(`.gridNumber${swordPos}`).style.backgroundColor = gridBackgroundColor;
                                            enemiesKilled++;
                                            totalEnemiesKilled++;
                                            checkEnemyPresence();
                                                break;
                                        }
                                        else {
                                             if (grid[swordPos].barrier === 'true') {
                                document.querySelector('.barrierAlert').innerHTML = 'You cannot attack through barriers.';
                                setTimeout(() => {
                                document.querySelector('.barrierAlert').innerHTML = '';
                            }, 3000);
                                break;
                            }
                        
                            setTimeout(() => {
                                document.querySelector(`.gridNumber${swordPos}`).innerHTML= ``;
                            }, 1000);

                        area = grid[u + swordSquarePositionIdentifier];
                    if (area.barrier === 'false') {
                        let swordPos2 = Number(area.gridNum + swordSquarePositionIdentifier)
                        if ((swordPos2 < 0 || swordPos2 > 63)||(swordSquarePositionIdentifier === 1 && (swordPos2 === 8 || swordPos2 === 16 || swordPos2 === 24 || swordPos2 === 32 || swordPos2 === 40 || swordPos2 === 48 || swordPos2 === 56))||(swordSquarePositionIdentifier === -1 && (swordPos2 === 7 || swordPos2 === 15 || swordPos2 === 23 || swordPos2 === 31 || swordPos2 === 39 || swordPos2 === 47 || swordPos2 === 55))) {} else {
                        if (grid[swordPos2].barrier === 'enemy') {
                                            grid[swordPos2].barrier = 'false';
                                            document.querySelector(`.gridNumber${swordPos2}`).style.backgroundColor = gridBackgroundColor;
                                            enemiesKilled++;
                                            totalEnemiesKilled++;
                                            checkEnemyPresence();
                                                break;
                                        }
                                        else {
                                             if (grid[swordPos2].barrier === 'true') {
                                document.querySelector('.barrierAlert').innerHTML = 'You cannot attack through barriers.';
                                setTimeout(() => {
                                document.querySelector('.barrierAlert').innerHTML = '';
                            }, 3000);
                                break;
                            }
                        
                            
                        break;
                    }}}}}
                }
                }
                document.querySelector('.selectSwordDirectionClass').style.display = 'none';
            }

                document.querySelector('.swordUp').addEventListener('click', () => {
                    swordSquarePositionIdentifier = -8;
                    conjureSword();
                });
                document.querySelector('.swordDown').addEventListener('click', () => {
                    swordSquarePositionIdentifier = 8;
                    conjureSword();
                });
                document.querySelector('.swordLeft').addEventListener('click', () => {
                    swordSquarePositionIdentifier = -1;
                    conjureSword();
                });
                document.querySelector('.swordRight').addEventListener('click', () => {
                    swordSquarePositionIdentifier = 1;
                    conjureSword();
                })
                
                //Ghost function
                let ghostTimeout;
                    function conjureGhost() {
                        document.querySelector('.endGhostEarlyClass').style.display = 'block';
                        playerGhostPresence = 'true';
                                for (let u=0; u<64; u++) {
                                area = grid[u];
                                    if (area.barrier === 'player') {
                                        area.barrier = 'playerGhost'
                                        document.querySelector(`.gridNumber${u}`).style.backgroundColor = 'rgba(255, 0, 0, 0.539)';
                                        }}
                                        ghostTimeout = setTimeout(() => {
                                    for (let q=0; q<64; q++) {
                                    let garea = grid[q];
                                    if (garea.barrier === 'playerGhost') {
                                        garea.barrier = 'player';
                                        document.querySelector(`.gridNumber${q}`).style.backgroundColor = avatarColor;
                                        playerGhostPresence = 'false';
                                        document.querySelector('.endGhostEarlyClass').style.display = 'none';
                                    }}
                                        }, 10000)
                                }
                    document.querySelector('.endGhost').addEventListener('click', ()=>{
                     grid.forEach((square)=>{
                        if (square.barrier === 'playerGhost') {
                            playerGhostPresence = 'false'
                            clearTimeout(ghostTimeout);
                            square.barrier = 'player';
                            document.querySelector(`.gridNumber${square.gridNum}`).style.backgroundColor = avatarColor;
                            document.querySelector('.endGhostEarlyClass').style.display = 'none'
                        }
                     })   
                    })

                //Control function
                    function conjureControl() {
                        for (let u=0; u<=63; u++) {
                            document.querySelector(`.gridNumber${u}`).addEventListener('click', () => {
                                if (callControl === 'true') {
                            if (grid[u].barrier === 'enemy') {
                                let enemyArea = grid[u];
                                    if (enemyArea.barrier === 'enemy') {
                                        let enemyPos = Number(enemyArea.gridNum + enemyControlDirection);
                                        if (enemyControlDirection === 1) {
                                        if (playerPos === 8 || playerPos === 16 || playerPos === 24 || playerPos === 32 || playerPos === 40 || playerPos === 48 || playerPos === 56) {
                                            document.querySelector('.barrierAlert').innerHTML = 'You cannot control enemies outside the map';
                                            setTimeout(()=> {
                                     document.querySelector('.barrierAlert').innerHTML = '';
                                }, 3000)
                                            return;
                                        }}
                                        
                                        if (enemyControlDirection === -1) {
                                        if (playerPos === 7 || playerPos === 15 || playerPos === 23 || playerPos === 31 || playerPos === 39 || playerPos === 47 || playerPos === 55) {
                                            document.querySelector('.barrierAlert').innerHTML = 'You cannot control enemies outside the map';
                                            setTimeout(()=> {
                                     document.querySelector('.barrierAlert').innerHTML = '';
                                }, 3000)
                                            return;
                                        }}
                                        if (enemyPos < 0 || enemyPos > 63) {
                                        } else if (grid[enemyPos].barrier !== 'false') {
                                            document.querySelector('.barrierAlert').innerHTML = 'You cannot control enemies to this position';
                                            setTimeout(()=> {
                                     document.querySelector('.barrierAlert').innerHTML = '';
                                }, 3000)
                                            }
                                            else {
                                                enemyArea.barrier = 'false';
                                                document.querySelector(`.gridNumber${enemyArea.gridNum}`).style.backgroundColor = gridBackgroundColor;
                                        grid[enemyPos].barrier = 'enemy';
                                        document.querySelector(`.gridNumber${enemyPos}`).style.backgroundColor = 'lime';
                                        document.querySelector(`.gridNumber${enemyPos}`).style.borderWidth = '2px';
                                        document.querySelector(`.gridNumber${enemyPos}`).style.borderColor = 'pink';
                                        document.querySelector(`.gridNumber${enemyPos}`).style.borderStyle = 'dashed';
                                        setTimeout(()=> {
                                            document.querySelector(`.gridNumber${enemyPos}`).style.borderWidth = '1px';
                                        document.querySelector(`.gridNumber${enemyPos}`).style.borderColor = 'black';
                                        document.querySelector(`.gridNumber${enemyPos}`).style.borderStyle = 'solid';
                                }, 1000)
                                        }
                            } else {
                                document.querySelector('.barrierAlert').innerHTML = 'There is no enemy here';
                                setTimeout(()=> {
                                     document.querySelector('.barrierAlert').innerHTML = '';
                                }, 3000)
                            }}}})
                        }
                    }

                    document.querySelector('.controlUp').addEventListener('click', () => {
                        enemyControlDirection = -8;
                        callControl = 'true';
                        conjureControl();
                        document.querySelector('.selectControlDirectionClass').style.display = 'none'
                    })
                    document.querySelector('.controlDown').addEventListener('click', () => {
                        enemyControlDirection = 8;
                        callControl = 'true';
                        conjureControl();
                        document.querySelector('.selectControlDirectionClass').style.display = 'none'
                    })
                    document.querySelector('.controlRight').addEventListener('click', () => {
                        enemyControlDirection = 1;
                        callControl = 'true';
                        conjureControl();
                        document.querySelector('.selectControlDirectionClass').style.display = 'none'
                    })
                    document.querySelector('.controlLeft').addEventListener('click', () => {
                        enemyControlDirection = -1;
                        callControl = 'true';
                        conjureControl();
                        document.querySelector('.selectControlDirectionClass').style.display = 'none'
                    })
                    
                //Sunbeam function
                    function conjureSunbeam() {
                        let stopRight = 'false';
                        let stopLeft = 'false';
                for (let u=0; u<64; u++) {
                let GridArea = grid[u];
                    if (GridArea.barrier === 'player') {
                        area = Number(GridArea.gridNum);
                        sunbeamDirection.forEach((sunbeamValue) => {
                            let sunPos = Number(area + sunbeamValue);
                            if (sunPos < 0 || sunPos > 63) {} else if ((stopRight === 'true' && sunbeamValue > 0)||(stopLeft === 'true' && sunbeamValue < 0)) {} else {
                                if (sunbeamDirectionCheck === 'row' && ((area <= 7 && sunPos > 7)||(area >= 8  && area <= 15 && (sunPos < 8 || sunPos >15))||(area >= 16  && area <= 23 && (sunPos < 16 || sunPos >23))||(area >= 24 && area <= 31 && (sunPos < 24 || sunPos >31))||(area >= 32  && area <= 39 && (sunPos < 32 || sunPos >39))||(area >= 40  && area <= 47 && (sunPos < 40 || sunPos >47))||(area >= 48  && area <= 55 && (sunPos < 48 || sunPos >55))||(area >= 56  && area <= 63 && (sunPos < 56 || sunPos >63)))) {} 
                                else if (grid[sunPos].barrier === 'true') {
                                if (sunbeamValue > 0) {
                                    stopRight = 'true'
                                }
                                if (sunbeamValue < 0) {
                                    stopLeft = 'true'
                                }
                            } else {
                        document.querySelector(`.gridNumber${sunPos}`).style.backgroundColor = 'yellow';
                            setTimeout(() => {
                                document.querySelector(`.gridNumber${sunPos}`).style.backgroundColor = gridBackgroundColor;
                                
                            }, 1000);
                        if (grid[sunPos].barrier === 'enemy') {
                            grid[sunPos].barrier = 'false';
                            enemiesKilled++;
                            totalEnemiesKilled++;
                            checkEnemyPresence();
                            }}}})   }}}
                    
                    document.querySelector('.sunbeamColumn').addEventListener('click', () => {
                        sunbeamDirection = [8,16,24,32,40,48,56,-8,-16,-24,-32,-40,-48,-56];
                        sunbeamDirectionCheck = 'column';
                        conjureSunbeam();
                        document.querySelector('.selectSunbeamDirectionClass').style.display = 'none';
                    });
                    document.querySelector('.sunbeamRow').addEventListener('click', () => {
                        sunbeamDirection = [1,2,3,4,5,6,7,-1,-2,-3,-4,-5,-6,-7];
                        sunbeamDirectionCheck = 'row';
                        conjureSunbeam();
                        document.querySelector('.selectSunbeamDirectionClass').style.display = 'none';
                    });
                    
                //Teleporter function
                function conjureTeleporter() {
                        for (let u=0; u<=63; u++) {
                            document.querySelector(`.gridNumber${u}`).addEventListener('click', () => {
                                if (callTeleporter === 'true') {
                            if (grid[u].barrier === 'false') {
                                let teleporterArea = grid[u];
                                grid.forEach((square) => {
                                    if (square.barrier === 'player' || square.barrier === 'playerGhost') {
                                        let area = Number(square.gridNum)
                                        document.querySelector(`.gridNumber${area}`).style.backgroundColor = gridBackgroundColor;
                                        square.barrier = 'false';
                                        document.querySelector(`.gridNumber${area}`).innerHTML=''
                                        if (replaceBarrier === 'true') {
                                            document.querySelector(`.gridNumber${area}`).style.backgroundColor = gridBarrierColor;
                                            document.querySelector(`.gridNumber${area}`).innerHTML=''
                                        square.barrier = 'true';
                                        replaceBarrier = 'false';
                                        }
                                        if (square.barrier === 'playerGhost') {
                                            document.querySelector(`.gridNumber${u}`).style.backgroundColor = 'rgba(255, 0, 0, 0.539)';
                                        if (avatarPhoto !== 'none') {
                                        document.querySelector(`.gridNumber${u}`).innerHTML= `<image class='avatarPic' src='${avatarPhoto}'>`
                                        }   
                                        grid[u].barrier = 'playerGhost';
                                        } else {
                                        document.querySelector(`.gridNumber${u}`).style.backgroundColor = avatarColor;
                                        if (avatarPhoto !== 'none') {
                                        document.querySelector(`.gridNumber${u}`).innerHTML= `<image class='avatarPic' src='${avatarPhoto}'>`
                                        }   
                                        grid[u].barrier = 'player';
                                    }
                                        callTeleporter = 'false';
                                        document.querySelector(`.gridNumber${u}`).style.borderColor = 'pink';
                                        document.querySelector(`.gridNumber${u}`).style.borderStyle = 'dashed';
                                        setTimeout(()=> {
                                        document.querySelector(`.gridNumber${u}`).style.borderColor = 'black';
                                        document.querySelector(`.gridNumber${u}`).style.borderStyle = 'solid';
                                }, 1000)
                                    }
                                })

                            }
                        }
                    })}}

                //Bomb function
                function conjureBomb() {
                for (let u=0; u<64; u++) {
                let area = grid[u];
                    if (area.barrier === 'player') {
                        bombRhombus.forEach((bombValue) => {
                            let bombPos = Number(area.gridNum + bombValue);
                            if (bombPos < 0 || bombPos > 63) {} else if (grid[bombPos].barrier === 'true') {} else {
                                if ((u < 5 && bombPos === 7)||(u < 13 && u > 7 && ((bombPos < 8 && bombPos > 5) || bombPos === 15))||(u < 21 && u > 15 && ((bombPos < 16 && bombPos > 13) || bombPos === 7 || bombPos === 23))||(u < 29 && u > 23 && ((bombPos < 24 && bombPos > 21) || bombPos === 31 || bombPos === 15))||(u < 37 && u > 31 && ((bombPos < 32 && bombPos > 29) || bombPos === 39 || bombPos === 23))||(u < 45 && u > 39 && ((bombPos < 40 && bombPos > 37) || bombPos === 47 || bombPos === 31))||(u < 53 && u > 47 && ((bombPos < 48 && bombPos > 45) || bombPos === 55 || bombPos === 39))||(u < 61 && u > 55 && ((bombPos < 56 && bombPos > 53) || bombPos === 63 || bombPos === 47))
                                ||(u < 8 && u > 3 && ((bombPos < 10 && bombPos > 7) || bombPos === 0 || bombPos === 16))||(u < 16 && u > 11 && ((bombPos < 18 && bombPos > 15) || bombPos === 8 || bombPos === 24))||(u < 24 && u > 19 && ((bombPos < 26 && bombPos > 23) || bombPos === 16 || bombPos === 32))||(u < 32 && u > 27 && ((bombPos < 34 && bombPos > 31) || bombPos === 24 || bombPos === 40))||(u < 40 && u > 35 && ((bombPos < 42 && bombPos > 39) || bombPos === 32 || bombPos === 48))||(u < 48 && u > 43 && ((bombPos < 50 && bombPos > 47) || bombPos === 40 || bombPos === 56))||(u < 56 && u > 51 && ((bombPos < 58 && bombPos > 55) || bombPos === 48))||(u > 59 && bombPos === 56)) {} else {
                        document.querySelector(`.gridNumber${bombPos}`).style.backgroundColor = 'orange';
                            setTimeout(() => {
                                if (grid[bombPos].barrier !== 'player' && grid[bombPos].barrier !== 'playerGhost') {
                                document.querySelector(`.gridNumber${bombPos}`).style.backgroundColor = gridBackgroundColor
                                }
                            }, 1000);
                        if (grid[bombPos].barrier === 'enemy') {
                                            grid[bombPos].barrier = 'false';
                                            enemiesKilled++;
                                            totalEnemiesKilled++;
                                            checkEnemyPresence();
                                        }
                                        else {
                        
                    }
                        }}})
                }
                }}
                                        
                //Wall function
                function conjureWall() {
                                for (let u=0; u<64; u++) {
                                let area = grid[u];
                                if (area.barrier === 'player' || area.barrier === 'playerGhost') {
                                    let wallPos = Number(area.gridNum + wallDirection)
                                        if (wallPos < 0 || wallPos > 63) {}
                                        else if (grid[wallPos].barrier === 'enemy') {
                                            document.querySelector('.barrierAlert').innerHTML = 'You cannot place a barrier on enemies';
                                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                                                break;
                                        }
                                        else {
                                            
                                        if (grid[wallPos].barrier === 'true') {
                                                document.querySelector('.barrierAlert').innerHTML = 'There is already a barrier here';
                                                setTimeout(() => {
                                                document.querySelector('.barrierAlert').innerHTML = '';
                                            }, 3000);
                                                break;
                                            }
                                            else {
                                                document.querySelector('.selectWallDirectionClass').style.display = 'none';
                                                grid[wallPos].barrier = 'true';
                                                document.querySelector(`.gridNumber${wallPos}`).style.backgroundColor = gridBarrierColor;
                                                document.querySelector(`.gridNumber${wallPos}`).innerHTML='';
                                                setTimeout(() => {
                                                    grid[wallPos].barrier = 'false';
                                                document.querySelector(`.gridNumber${wallPos}`).style.backgroundColor = gridBackgroundColor;
                                                }, 15000);
                                            }};}}}

                document.querySelector('.wallUp').addEventListener('click', () => {
                    wallDirection = -8;
                    conjureWall();
                });
                document.querySelector('.wallDown').addEventListener('click', () => {
                    wallDirection = 8;
                    conjureWall();
                });
                document.querySelector('.wallRight').addEventListener('click', () => {
                    wallDirection = 1;
                    conjureWall();
                });
                document.querySelector('.wallLeft').addEventListener('click', () => {
                    wallDirection = -1;
                    conjureWall();
                });
                //Remote function
                function conjureRemote() {
                        for (let u=0; u<=63; u++) {
                            document.querySelector(`.gridNumber${u}`).addEventListener('click', () => {
                                if (callRemote === 'true') {
                            if (grid[u].barrier === 'enemy') {
                                        document.querySelector(`.gridNumber${u}`).style.backgroundColor = 'darkred';
                                        grid[u].barrier = 'false';
                                        enemiesKilled++;
                                        totalEnemiesKilled++;
                                        checkEnemyPresence();
                                        document.querySelector(`.gridNumber${u}`).innerHTML=''
                                        callRemote = 'false';
                                        document.querySelector(`.gridNumber${u}`).style.borderColor = 'darkred';
                                        document.querySelector(`.gridNumber${u}`).style.borderStyle = 'dashed';
                                        setTimeout(()=> {
                                        document.querySelector(`.gridNumber${u}`).style.backgroundColor = gridBackgroundColor;
                                        document.querySelector(`.gridNumber${u}`).style.borderColor = 'black';
                                        document.querySelector(`.gridNumber${u}`).style.borderStyle = 'solid';
                                }, 1000)
                        }}})

                            }
                        }
                    

                function RandomizeSpells() {
                let spell1RandomNum = Math.floor(Math.random()*9);
                let spell2RandomNum = Math.floor(Math.random()*9);
                let spell3RandomNum = Math.floor(Math.random()*9);
                let spell4RandomNum = Math.floor(Math.random()*9);

                document.getElementById(`spellDropdown1`).value = spells[Math.floor(Math.random()*9)].name;
                document.getElementById(`spellDropdown2`).value = spells[Math.floor(Math.random()*9)].name;
                document.getElementById(`spellDropdown3`).value = spells[Math.floor(Math.random()*9)].name;
                document.getElementById(`spellDropdown4`).value = spells[Math.floor(Math.random()*9)].name;

                checkSpell1();
                checkSpell2();
                checkSpell3();
                checkSpell4();
                document.querySelector('.spellSection').style.height = '800px';
                document.querySelector('.descriptionsTitle').innerHTML = 'Descriptions';
                }


                        /*
                    document.querySelector('.invincibleCheat').addEventListener('click', ()=>{
                        grid.forEach((player)=>{
            if (player.barrier === 'player') {
                playerGhostPresence = 'true'
                player.barrier = 'playerGhost';
            }})})
                */


            /*items*/
let itemCollectionCount = 0;
const items = [{
    name:'wormhole',
    des:'teleport to an alternate dimension',
    image:`https://png.pngtree.com/png-vector/20240207/ourmid/pngtree-black-wormhole-grid-shape-png-image_11710929.png`,
    itemF: ()=>{
if (gameMode !== 'protect the zone') {
    grid.forEach((square)=>{
        if (square.barrier === 'enemy') {
            square.barrier = 'false';
            document.querySelector(`.gridNumber${square.gridNum}`).style.backgroundColor = gridBackgroundColor;
        }
        else if (square.barrier === 'true') {
            square.barrier = 'false';
            document.querySelector(`.gridNumber${square.gridNum}`).style.backgroundColor = gridBackgroundColor;
        } 
    })
    enemiesSpawned = 0;
    enemiesKilled = 0;
    selectEnemySet();
    for (e=0; e<15; e++) {
            runBarrier();
        function runBarrier() {
            barrierRandom = Number((Math.random()*63).toFixed(0))
            if (grid[barrierRandom].barrier === 'player'||grid[barrierRandom].barrier === 'playerGhost'||grid[barrierRandom].barrier === 'enemy') {
                runBarrier();
            }
        }
    grid.forEach((square) => {
        if (barrierRandom === square.gridNum) {
            square.barrier = 'true';
            document.querySelector(`.gridNumber${square.gridNum}`).style.backgroundColor = gridBarrierColor;
        };
        });
    }}}
},{
    name:'treasure chest',
    des:'gain 20 points',
    image:`https://pngimg.com/d/treasure_chest_PNG89.png`,
    itemF: ()=>{
        points = points + 20;
        updateStats();
    }
},{
    name:'vampire tooth',
    des:'use ghost once for free',
    image:`https://static.thenounproject.com/png/1848402-200.png`,
    itemF: ()=>{
        conjureGhost();
    }
},{
    name:'AN-94',
    des:'shoot a ballista of bullets in a all directions',
    image:`https://cdn-icons-png.flaticon.com/512/7047/7047595.png`,
    itemF: ()=>{
                    let stopLeft = 'false';
                    let stopRight = 'false';
                    let stopUp = 'false';
                    let stopDown = 'false';
                    grid.forEach((square)=>{
                        if(square.barrier === 'player') {
                            const pSpot = square;
                            const pNum = square.gridNum;
                            let shotLeft = Number(square.gridNum);
                            let shotRight = Number(square.gridNum);
                            let shotUp = Number(square.gridNum);
                            let shotDown = Number(square.gridNum);
                            
                            const shotLeftInterval = setInterval(()=>{
                                shotLeft--;
                                let gunPos = shotLeft;
                                if (gunPos < 0 || gunPos > 63) {clearInterval(shotLeftInterval)}
                                    else if (((pNum <= 7 && gunPos > 7)||(pNum >= 8  && pNum <= 15 && (gunPos < 8 || gunPos >15))||(pNum >= 16  && pNum <= 23 && (gunPos < 16 || gunPos >23))||(pNum >= 24 && pNum <= 31 && (gunPos < 24 || gunPos >31))||(pNum >= 32  && pNum <= 39 && (gunPos < 32 || gunPos >39))||(pNum >= 40  && pNum <= 47 && (gunPos < 40 || gunPos >47))||(pNum >= 48  && pNum <= 55 && (gunPos < 48 || gunPos >55))||(pNum >= 56  && pNum <= 63 && (gunPos < 56 || gunPos >63)))) {clearTimeout(shotLeftInterval)}
                                    else {
                                    if (grid[gunPos].barrier === 'false') {
                                    document.querySelector(`.gridNumber${gunPos}`).style.backgroundColor = 'rgb(192, 192, 0)';
                                    setTimeout(()=>{
                                        document.querySelector(`.gridNumber${gunPos}`).style.backgroundColor = gridBackgroundColor;
                                    },480);
                                } else if (grid[gunPos].barrier === 'enemy') {
                                    document.querySelector(`.gridNumber${gunPos}`).style.backgroundColor = 'rgb(192, 192, 0)';
                                    grid[gunPos].barrier = 'false';
                                    totalEnemiesKilled++;
                                    enemiesKilled++;
                                    updateStats();
                                    setTimeout(()=>{
                                        document.querySelector(`.gridNumber${gunPos}`).style.backgroundColor = gridBackgroundColor;
                                    },480);
                                } else if (grid[gunPos].barrier === 'true') {
                                    clearInterval(shotLeftInterval);
                                }
                        }},500);

                        const shotRightInterval = setInterval(()=>{
                            shotRight++;
                                let gunPos = shotRight;
                                if (gunPos < 0 || gunPos > 63) {clearInterval(shotRightInterval)}
                                    else if (((pNum <= 7 && gunPos > 7)||(pNum >= 8  && pNum <= 15 && (gunPos < 8 || gunPos >15))||(pNum >= 16  && pNum <= 23 && (gunPos < 16 || gunPos >23))||(pNum >= 24 && pNum <= 31 && (gunPos < 24 || gunPos >31))||(pNum >= 32  && pNum <= 39 && (gunPos < 32 || gunPos >39))||(pNum >= 40  && pNum <= 47 && (gunPos < 40 || gunPos >47))||(pNum >= 48  && pNum <= 55 && (gunPos < 48 || gunPos >55))||(pNum >= 56  && pNum <= 63 && (gunPos < 56 || gunPos >63)))) {clearTimeout(shotRightInterval)}
                                    else {
                                    if (grid[gunPos].barrier === 'false') {
                                    document.querySelector(`.gridNumber${gunPos}`).style.backgroundColor = 'rgb(192, 192, 0)';
                                    setTimeout(()=>{
                                        document.querySelector(`.gridNumber${gunPos}`).style.backgroundColor = gridBackgroundColor;
                                    },480);
                                } else if (grid[gunPos].barrier === 'enemy') {
                                    document.querySelector(`.gridNumber${gunPos}`).style.backgroundColor = 'rgb(192, 192, 0)';
                                    grid[gunPos].barrier = 'false';
                                    totalEnemiesKilled++;
                                    enemiesKilled++;
                                    updateStats();
                                    setTimeout(()=>{
                                        document.querySelector(`.gridNumber${gunPos}`).style.backgroundColor = gridBackgroundColor;
                                    },480);
                                } else if (grid[gunPos].barrier === 'true') {
                                    clearInterval(shotRightInterval);
                                }
                        }},500);

                        const shotUpInterval = setInterval(()=>{
                            shotUp = shotUp - 8;
                                let gunPos = shotUp;
                                if (gunPos < 0 || gunPos > 63) {clearInterval(shotUpInterval);}
                                    else {
                                    if (grid[gunPos].barrier === 'false') {
                                    document.querySelector(`.gridNumber${gunPos}`).style.backgroundColor = 'rgb(192, 192, 0)';
                                    setTimeout(()=>{
                                        document.querySelector(`.gridNumber${gunPos}`).style.backgroundColor = gridBackgroundColor;
                                    },480);
                                } else if (grid[gunPos].barrier === 'enemy') {
                                    document.querySelector(`.gridNumber${gunPos}`).style.backgroundColor = 'rgb(192, 192, 0)';
                                    grid[gunPos].barrier = 'false';
                                    totalEnemiesKilled++;
                                    enemiesKilled++;
                                    updateStats();
                                    setTimeout(()=>{
                                        document.querySelector(`.gridNumber${gunPos}`).style.backgroundColor = gridBackgroundColor;
                                    },480);
                                } else if (grid[gunPos].barrier === 'true') {
                                    clearInterval(shotUpInterval);
                                }
                        }},500);
                        
                        const shotDownInterval = setInterval(()=>{
                            shotDown = shotDown + 8;
                                let gunPos = shotDown;
                                if (gunPos < 0 || gunPos > 63) {clearInterval(shotDownInterval)}
                                    else {
                                    if (grid[gunPos].barrier === 'false') {
                                    document.querySelector(`.gridNumber${gunPos}`).style.backgroundColor = 'rgb(192, 192, 0)';
                                    setTimeout(()=>{
                                        document.querySelector(`.gridNumber${gunPos}`).style.backgroundColor = gridBackgroundColor;
                                    },480);
                                } else if (grid[gunPos].barrier === 'enemy') {
                                    document.querySelector(`.gridNumber${gunPos}`).style.backgroundColor = 'rgb(192, 192, 0)';
                                    grid[gunPos].barrier = 'false';
                                    totalEnemiesKilled++;
                                    enemiesKilled++;
                                    updateStats();
                                    setTimeout(()=>{
                                        document.querySelector(`.gridNumber${gunPos}`).style.backgroundColor = gridBackgroundColor;
                                    },480);
                                } else if (grid[gunPos].barrier === 'true') {
                                    clearInterval(shotDownInterval);
                                }
                        }},500);
                    }})               
                }
 
},{
    name:'cheat',
    des:'get the answer to a puzzle question',
    image:`https://png.pngtree.com/png-vector/20221006/ourmid/pngtree-cartoon-magnifying-glass-illustration-png-image_6288980.png`,
    itemF: ()=>{ 
        document.querySelector('.cheatSheetDiv').style.display = 'block';
        document.querySelector('.cheatSheetDiv').classList.add('cheatSheetAnim1')
            document.querySelector('.cheatSheetDiv').addEventListener('click', ()=>{
                document.querySelector('.cheatSheetTxt').innerHTML = `Answer: ${puzzleAnswer}`;
                document.querySelector('.cheatSheetImage').src = 'https://static.vecteezy.com/system/resources/thumbnails/045/121/911/small_2x/cartoon-blank-card-png.png';
                setTimeout(()=>{
                    document.querySelector('.cheatSheetDiv').classList.remove('cheatSheetAnim1');
                    document.querySelector('.cheatSheetDiv').classList.add('cheatSheetAnim2');
                setTimeout(()=>{
                    document.querySelector('.cheatSheetImage').src = 'https://static.vecteezy.com/system/resources/thumbnails/022/026/035/small_2x/cute-sweet-love-letter-valentine-mail-cartoon-hand-drawing-png.png';
                    document.querySelector('.cheatSheetDiv').style.display = 'none';
                    document.querySelector('.cheatSheetTxt').innerHTML = ``;
                    document.querySelector('.cheatSheetDiv').classList.remove('cheatSheetAnim2');
                },2000)
                },3000)
            })
    }
}]
let itemCountNum = 0;
let itemDescrpiton = ``
//when updating, make the maximum item count 4, and make width and height 45%
    function itemObtained(passedItemName) {
        console.log(`name = ${passedItemName}`);
        if (itemCountNum === 0) {
            itemCountNum++;
    items.forEach((collectible)=>{
        if (collectible.name === passedItemName) {
            let randomItemUPI = (Math.random()*10000).toFixed(0);
            itemDescrpiton = collectible.des;
            console.log(`generated = ${randomItemUPI}`)
            document.querySelector('.itemsDiv').innerHTML += `<div class='collectedItemDivs item${randomItemUPI}'><image style='width:100%;height:100%;' src="${collectible.image}" alt="${collectible.name}"></div>`;
                let itemDiv = document.querySelector(`.item${randomItemUPI}`)
                itemDiv.addEventListener('click', ()=>{
                    console.log(itemDiv);
                    console.log(collectible.itemF())
                    collectible.itemF();
                    itemDiv.style.display = 'none';
                    itemCountNum--;
                    descrpiton = ``;
                })
                itemDiv.addEventListener('mouseover', ()=>{
                    document.querySelector(`.collectedItemDes`).style.display = 'block';
                    document.querySelector(`.itemDesTxt`).innerHTML = `${itemDescrpiton}`;
                    //document.querySelector('.collectedItemDes').style.top = Number(document.querySelector(`.item${randomItemUPI}`).getBoundingClientRect().y + 100).toFixed(0) + 'px'
                    //document.querySelector('.collectedItemDes').style.left = Number(document.querySelector(`.item${randomItemUPI}`).getBoundingClientRect().x).toFixed(0) + 'px'
                })
                itemDiv.addEventListener('mouseleave', ()=>{
                    document.querySelector(`.collectedItemDes`).style.display = 'none';
                    document.querySelector(`.itemDesTxt`).innerHTML = ``;
                })
            }})
        } else {document.querySelector('.barrierAlert').innerHTML = `Max item capacity reached`
            setTimeout(()=>{
                document.querySelector('.barrierAlert').innerHTML = ``
            },3000)
        }}
                document.querySelector('.itemsDiv').addEventListener('mouseover', ()=>{
                    document.querySelector(`.collectedItemDes`).style.display = 'block';
                    document.querySelector(`.itemDesTxt`).innerHTML = `${itemDescrpiton}`;
                })
                document.querySelector('.itemsDiv').addEventListener('mouseleave', ()=>{
                    document.querySelector(`.collectedItemDes`).style.display = 'none';
                })

                document.querySelector('.collectedItemDes').addEventListener('mouseover', ()=>{
                    document.querySelector(`.collectedItemDes`).style.display = 'block';
                    document.querySelector(`.itemDesTxt`).innerHTML = `${itemDescrpiton}`;
                })
                document.querySelector('.collectedItemDes').addEventListener('mouseleave', ()=>{
                    document.querySelector(`.collectedItemDes`).style.display = 'none';
                })

/*puzzles*/
let clickingTimeEventNum = 0;
let puzzle6EventListenerCalled = 'false'
let puzzles = [{
    html: `<img class='puzzleImagesFit' src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTD-ypBR_8H08MC2aQgIvynJeuWv69TPVw0-Q&s">
            <p>Enter the answer here:</p>
            <input class="puzzleInput0" type="number">
            <button style="position:relative; float:left;" onclick="puzzleFunction();">submit</button>`,
    dif: `Medium`,
    worth: 7,
    num: 0,
    answer: '4',
    puzzleF: () => {
    checkPuzzleInput()
    },
}, {
    html: `<img class='puzzleImagesFit' src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhPOttu_CEf_6ITbnZjfmq_Mdox2RskRAsxHSGnTFZVC4UZyujdQadgYJdPuKXwQQcSYog0L3QPlMb6GD3FKrPptkF26m5BN6ZcwSOciXJ-uW5B77W_C6NQgiTgKfEaQVtey2NuWdPdNWz5/s940/easy-logic-puzzle-for-kids.png">
            <p>Enter the answer here:</p>
            <input class="puzzleInput1" type="number">
            <button style="float:left; position:relative;" onclick="puzzleFunction()">Submit</button>`,
    dif: `Hard`,
    worth: 11,
    num: 1,
    answer: '6',
    puzzleF: () => {
        checkPuzzleInput();
    },
}, {
    html: `<img class='puzzleImagesFit' style='height:400px' src="https://eslvault.com/wp-content/plugins/phastpress/phast.php/c2VydmljZT1pbWFnZXMmc3JjPWh0dHBzJTNBJTJGJTJGZXNsdmF1bHQuY29tJTJGd3AtY29udGVudCUyRnVwbG9hZHMlMkYyMDIxJTJGMDYlMkZyZWJ1cy1wdXp6bGUtd29ya3NoZWV0LXByaW50YWJsZS01LmpwZyZjYWNoZU1hcmtlcj0xNzIzNTgwMTM5LTQ5MjgwJnRva2VuPWFmZjY2MGM2NTExZDNiM2M.q.jpg">
            <h1>What is the meaning of the picture in row 2 column 2?</h1>
            <p>Enter the answer here in all lower-case:</p>
            <input class="puzzleInput2">
            <button style="float:left; position:relative;" onclick="puzzleFunction()">Submit</button>`,
    dif: `Easy`,
    worth: 3,
    num: 2,
    answer: 'cornerstone',
    puzzleF: () => {
        checkPuzzleInput();
    },
}, {
    html: `<img class='puzzleImagesFit' src="https://logiclike.com/files/media/zd/r7/t9gbpv34_5f073bf7b27ed.png">
            <h2>How many trianges are in this square?</h2>
            <p>Enter the answer here:</p>
            <input class="puzzleInput3">
            <button style="float:left; position:relative;" onclick="puzzleFunction()">Submit</button>`,
    dif: `Easy`,
    worth: 3,
    num: 3,
    answer: '16',
    puzzleF: () => {
        checkPuzzleInput();
    },
}, {
    html: `<img class='puzzleImagesFit' style='height:400px' src="https://eslvault.com/wp-content/plugins/phastpress/phast.php/c2VydmljZT1pbWFnZXMmc3JjPWh0dHBzJTNBJTJGJTJGZXNsdmF1bHQuY29tJTJGd3AtY29udGVudCUyRnVwbG9hZHMlMkYyMDIxJTJGMDIlMkZmcmVlLXByaW50YWJsZS1yZWJ1cy1wdXp6bGVzLTQuanBnJmNhY2hlTWFya2VyPTE3MjM1ODAxMzUtMzIyMDgmdG9rZW49ZjRhNjBjYzYwMGUyMzA5NQ.q.jpg">
            <h1>What is the meaning of the picture in row 2 column 2?</h1>
            <p>Enter the answer here in all lower-case:</p>
            <input class="puzzleInput4">
            <button style="float:left; position:relative;" onclick="puzzleFunction()">Submit</button>`,
    dif: `Medium`,
    worth: 7,
    num: 4,
    answer: 'design',
    puzzleF: () => {
        checkPuzzleInput();
    },
}, {
    html: `<img class='puzzleImagesFit' style='height:400px' src="https://eslvault.com/wp-content/plugins/phastpress/phast.php/c2VydmljZT1pbWFnZXMmc3JjPWh0dHBzJTNBJTJGJTJGZXNsdmF1bHQuY29tJTJGd3AtY29udGVudCUyRnVwbG9hZHMlMkYyMDIxJTJGMDIlMkZmcmVlLXByaW50YWJsZS1yZWJ1cy1wdXp6bGVzLTQuanBnJmNhY2hlTWFya2VyPTE3MjM1ODAxMzUtMzIyMDgmdG9rZW49ZjRhNjBjYzYwMGUyMzA5NQ.q.jpg">
            <h1>What is the meaning of the picture in row 4 column 2?</h1>
            <p>Enter the answer here in all lower-case:</p>
            <input class="puzzleInput5">
            <button style="float:left; position:relative;" onclick="puzzleFunction()">Submit</button>`,
    dif: `Hard`,
    worth: 11,
    num: 5,
    answer: 'long time no see',
    puzzleF: () => {
        checkPuzzleInput();
    },
}, {
    html: `<img class='puzzleImagesFit' style='height:400px' src="https://eslvault.com/wp-content/plugins/phastpress/phast.php/c2VydmljZT1pbWFnZXMmc3JjPWh0dHBzJTNBJTJGJTJGZXNsdmF1bHQuY29tJTJGd3AtY29udGVudCUyRnVwbG9hZHMlMkYyMDIxJTJGMDIlMkZmcmVlLXByaW50YWJsZS1yZWJ1cy1wdXp6bGVzLTQuanBnJmNhY2hlTWFya2VyPTE3MjM1ODAxMzUtMzIyMDgmdG9rZW49ZjRhNjBjYzYwMGUyMzA5NQ.q.jpg">
            <h1>What is the meaning of the picture in row 2 column 3?</h1>
            <p>Enter the answer here in all lower-case:</p>
            <input class="puzzleInput6">
            <button style="float:left; position:relative;" onclick="puzzleFunction()">Submit</button>`,
    dif: `Easy`,
    worth: 3,
    num: 6,
    answer: 'engineer',
    puzzleF: () => {
        checkPuzzleInput();
    },
}, {
    html: `<div class="outerCirclePuzzle6 outerCirclePuzzle6Animation1"><div class="innerCirclePuzzle6"></div></div>`,
    dif: `Easy`,
    worth: 3,
    num: 7,
    answer: 'none',
    puzzleF: () => {
    inzoneTimeout = setTimeout(() => {
        inzonePuzzle6 = 'true';
    },1330);
    inzoneTimeoutCancel = setTimeout(()=> {
        inzonePuzzle6 = 'false';
    },2000);
    if (puzzle6EventListenerCalled === 'false') {
        puzzle6EventListenerCalled = 'true';
    document.querySelector('.puzzleGames').addEventListener('click', () => {
        if (document.querySelector(`.innerCirclePuzzle6`)) {
        clearTimeout(inzoneTimeout);
        clearTimeout(inzoneTimeoutCancel);
        clickingTimeEventNum++; //2s
        document.querySelector(`.innerCirclePuzzle6`).style.width = '100px';
        document.querySelector(`.innerCirclePuzzle6`).style.height = '100px';
        
        if (clickingTimeEventNum === 1) {
            if (inzonePuzzle6 === 'true') {
            inzonePuzzle6 = 'false';
            //2.5s
            document.querySelector(`.innerCirclePuzzle6`).style.width = '50px';
            document.querySelector(`.innerCirclePuzzle6`).style.height = '50px';
            //777777777777777777777777777777777777777777777777777777777777777777
            document.querySelector('.outerCirclePuzzle6').classList.remove('outerCirclePuzzle6Animation1');
            document.querySelector('.outerCirclePuzzle6').classList.add('outerCirclePuzzle6Animation2');
            inzoneTimeout = setTimeout(()=> {
                inzonePuzzle6 = 'true';
            },2020);
            inzoneTimeoutCancel = setTimeout(()=> {
                inzonePuzzle6 = 'false';
            },2500);
        } else {
            console.log('anim 1 failed')
            clickingTimeEventNum = 0;
            document.querySelector('.outerCirclePuzzle6').classList.remove('outerCirclePuzzle6Animation1');
            document.querySelector('.outerCirclePuzzle6').classList.add('outerCirclePuzzle6Animation1');
            //777777777777777777777777777777777777777777777777777
            document.querySelector(`.innerCirclePuzzle6`).style.width = '100px';
            document.querySelector(`.innerCirclePuzzle6`).style.height = '100px';
            inzoneTimeout = setTimeout(() => {
        inzonePuzzle6 = 'true';
    },1330);
    inzoneTimeoutCancel = setTimeout(()=> {
        inzonePuzzle6 = 'false';
    },2000);
        }
        }
        else if (clickingTimeEventNum === 2) {
            if (inzonePuzzle6 === 'true') {
            inzonePuzzle6 = 'false';
            console.log('anim 2')
            //1s
            document.querySelector(`.innerCirclePuzzle6`).style.width = '60px';
            document.querySelector(`.innerCirclePuzzle6`).style.height = '60px';
            //777777777777777777777777777777777777777777777777777
            document.querySelector('.outerCirclePuzzle6').classList.remove('outerCirclePuzzle6Animation2');
            document.querySelector('.outerCirclePuzzle6').classList.add('outerCirclePuzzle6Animation3');
            inzoneTimeout = setTimeout(()=> {
                inzonePuzzle6 = 'true';
            },800);//800
            inzoneTimeoutCancel = setTimeout(()=> {
                inzonePuzzle6 = 'false';
            },1000);
        } else {
            console.log('anim 1 failed');
            clickingTimeEventNum = 0;
            document.querySelector('.outerCirclePuzzle6').classList.add('outerCirclePuzzle6Animation1');
            document.querySelector('.outerCirclePuzzle6').classList.remove('outerCirclePuzzle6Animation2');
             //77777777777777777777777777777777777777777777777777
            document.querySelector(`.innerCirclePuzzle6`).style.width = '100px';
            document.querySelector(`.innerCirclePuzzle6`).style.height = '100px';
            inzoneTimeout = setTimeout(() => {
        inzonePuzzle6 = 'true';
    },1330);
    inzoneTimeoutCancel = setTimeout(()=> {
        inzonePuzzle6 = 'false';
    },2000);
        }}
        else if (clickingTimeEventNum === 3) {
            if (inzonePuzzle6 === 'true') {
                console.log('anim 3')
                //5s
            inzonePuzzle6 = 'false'
            document.querySelector(`.innerCirclePuzzle6`).style.width = '20px';
            document.querySelector(`.innerCirclePuzzle6`).style.height = '20px';
            //777777777777777777777777777777777777777777777777777
            document.querySelector('.outerCirclePuzzle6').classList.remove('outerCirclePuzzle6Animation3');
            document.querySelector('.outerCirclePuzzle6').classList.add('outerCirclePuzzle6Animation4');
            inzoneTimeout = setTimeout(()=> {
                inzonePuzzle6 = 'true';
            },4600);//4600
            inzoneTimeoutCancel = setTimeout(()=> {
                inzonePuzzle6 = 'false';
            },5000);
        } else {
            console.log('anim 2 failed')
            clickingTimeEventNum = 0;
            document.querySelector('.outerCirclePuzzle6').classList.add('outerCirclePuzzle6Animation1');
            document.querySelector('.outerCirclePuzzle6').classList.remove('outerCirclePuzzle6Animation3');
            //777777777777777777777777777777777777777777777777777
            document.querySelector(`.innerCirclePuzzle6`).style.width = '100px';
            document.querySelector(`.innerCirclePuzzle6`).style.height = '100px';
            inzoneTimeout = setTimeout(() => {
        inzonePuzzle6 = 'true';
    },1330);
    inzoneTimeoutCancel = setTimeout(()=> {
        inzonePuzzle6 = 'false';
    },2000);
        }}
        else {
            clickingTimeEventNum = 0;
            points = points + 3;
            loadPuzzles();
            updateStats();
        }
        }}
    )}

    },
}, {
    html: `<h2 style='position:absolute;top:70%;'>Follow the white path and keep the tip of your mouse inside it!</h2><div class="puzzle8circle" onmouseenter="document.querySelector('.puzzle8circle').style.display = 'none'; document.querySelectorAll('.puzzle8path').forEach((path) => {path.style.display = 'block'}); document.querySelector('.puzzle8goal').style.display='block';"><h6>Place Mouse Here</h6></div>
                <div class="puzzle8path puzzle8path1"></div>
            <div class="puzzle8path puzzle8path2"></div>
            <div class="puzzle8path puzzle8path3"></div>
            <div class="puzzle8path puzzle8path4"></div>
            <div class="puzzle8path puzzle8path5"></div>
            <div class="puzzle8goal"></div>`,
    dif: `Hard`,
    worth: 11,
    num: 8,
    answer: 'none',
    puzzleF: () => {
            mousePresence1P8 = 'true';
            mousePresence2P8 = 'false';
            mousePresence3P8 = 'false';
            mousePresence4P8 = 'false';
            mousePresence5P8 = 'false';
    for (let u=1; u<=5; u++) {
        document.querySelector(`.puzzle8path${u}`).addEventListener('mouseenter', () => {
            if (u === 1) {mousePresence1P8 = 'true'}
            else if (u === 2) {mousePresence2P8 = 'true'}
            else if (u === 3) {mousePresence3P8 = 'true'}
            else if (u === 4) {mousePresence4P8 = 'true'}
            else if (u === 5) {mousePresence5P8 = 'true'}
        })
        document.querySelector(`.puzzle8path${u}`).addEventListener('mouseleave', () => {
            if (u === 1) {mousePresence1P8 = 'false'}
            else if (u === 2) {mousePresence2P8 = 'false'}
            else if (u === 3) {mousePresence3P8 = 'false'}
            else if (u === 4) {mousePresence4P8 = 'false'}
            else if (u === 5) {mousePresence5P8 = 'false'}
        })
    };
    document.querySelector('.puzzle8goal').addEventListener('mouseenter', ()=>{
        loadPuzzles();
        mousePresence1P8 = 'true';
            mousePresence2P8 = 'true';
            mousePresence3P8 = 'true';
            mousePresence4P8 = 'true';
            mousePresence5P8 = 'true';
        document.querySelector('.barrierAlert').innerHTML = 'Success!';
        document.querySelector('.barrierAlert').style.color = 'green';
        setTimeout(() => {
            document.querySelector('.barrierAlert').innerHTML = '';
        document.querySelector('.barrierAlert').style.color = 'red';
        },2000)
        points = points + 7;
        updateStats();
    })
    document.querySelectorAll('.puzzle8path').forEach((path)=>{addEventListener('mousemove', () => {
    if (mousePresence1P8 === 'false' && mousePresence2P8 === 'false' && mousePresence3P8 === 'false' && mousePresence4P8 === 'false' && mousePresence5P8 === 'false') {
                document.querySelector('.barrierAlert').innerHTML = 'Failed!'
                setTimeout(()=>{                
                    document.querySelector('.barrierAlert').innerHTML = ``
            },2000)
            loadPuzzles();
    }})})
    },
}, {
    html: `<h2>Gamble!</h2>
                <input style="width:170px;" class="puzzle9gambleInput" type="number" placeholder="Wager your points here">
                <button class="puzzle9submit" onclick="puzzleFunction()">Submit</button>
                <div class="coinflipDiv"></div>`,
    dif: `Easy`,
    worth: '&infin; or -&infin;',
    num: 9,
    answer: 'none',
    puzzleF: () => {
        let inputValue = Number(document.querySelector('.puzzle9gambleInput').value)
    if (inputValue > points) {
        document.querySelector('.barrierAlert').innerHTML = 'Not Enough Points!';
        setTimeout(()=>{
            document.querySelector('.barrierAlert').innerHTML = ``;
        },3000);
    } else if (!inputValue || inputValue === 0) {
        loadPuzzles();
    }
    else {
        document.querySelector('.puzzle9submit').style.display = 'none'
        let gamble = (Math.random()*10).toFixed(0);
        
        if (gamble <= 4) {
        document.querySelector('.coinflipDiv').classList.add('coinflipWin');
        setTimeout(()=>{
            document.querySelector('.barrierAlert').innerHTML = 'Congrats!';
            document.querySelector('.barrierAlert').style.color = 'green';
            points = points + (inputValue);
            updateStats();
        },5000)
        setTimeout(()=>{
            loadPuzzles();
            document.querySelector('.barrierAlert').innerHTML = '';
        document.querySelector('.barrierAlert').style.color = 'red';
        document.querySelector('.puzzle9submit').style.display = 'block';
        document.querySelector('.coinflipDiv').classList.remove('coinflipWin')
        },7000)
        }
        else if (gamble > 4) {
        document.querySelector('.coinflipDiv').classList.add('coinflipLose')
        setTimeout(()=>{
            document.querySelector('.barrierAlert').innerHTML = 'Uh oh!';
            points = points - (inputValue)
            updateStats();
        },5000)
        setTimeout(()=>{
            document.querySelector('.barrierAlert').innerHTML = '';
            document.querySelector('.puzzle9submit').style.display = 'block';
            document.querySelector('.coinflipDiv').classList.remove('coinflipWin')
            loadPuzzles();
        },7000)
        }
        else {console.log('gamble num not running')}
    }
    },
}]
/* Auto select spells
document.body.addEventListener('keydown', (value)=>{
    if (value.key === 'm') {
        spells.forEach((spell) => {
            if (spell.name === 'Teleporter') {
                spell1 = spell;
            }
            else if (spell.name === 'Remote') {
                spell2 = spell;
            }
            else if (spell.name === 'Bomb') {
                spell3 = spell;
            }
            else if (spell.name === 'Ghost') {
                spell4 = spell;
            }
        })
    }
})
*/
document.body.addEventListener('keydown', (value)=>{
    if (value.key === 'Enter') {
                    checkPuzzleInput();
                }
})

function loadPuzzles() {
if ((gameMode === 'endless' && subGameMode !== 'timed points') || gameMode === 'protect the zone') {
    let randomPuzzleNum = Number((Math.random()*10).toFixed(0));
    puzzles.forEach((item) => {
        if (item.num === randomPuzzleNum) {
            displayedPuzzle = item.html;
            puzzleNum = item.num;
            puzzleDif = item.dif;
              puzzlePoints = item.worth;
            puzzleAnswer = item.answer;
            puzzleFunction = item.puzzleF;
        }
    })
    document.querySelector('.puzzleGames').innerHTML = `
    <p>Difficulty: ${puzzleDif}</p>
    <p>Worth: ${puzzlePoints} points</p>
    <button onclick='skipPuzzle()'>Skip</button>
    ${displayedPuzzle}`;
    if (subGameMode === 'custom' && gameMode === 'endless') {} else {
    if (randomPuzzleNum === 7 || randomPuzzleNum === 8) {
        puzzleFunction();
    }}
}}

function skipPuzzle() {
    loadPuzzles();
        document.querySelector('.barrierAlert').innerHTML = 'Skipped :(';
        document.querySelector('.barrierAlert').style.color = 'rgb(188, 188, 0)';
    setTimeout(() => {
        document.querySelector('.barrierAlert').innerHTML = '';
        document.querySelector('.barrierAlert').style.color = 'red';
    },2000)
}
function checkPuzzleInput() {
        let qInput = String(document.querySelector(`.puzzleInput${puzzleNum}`).value);
    if (qInput === puzzleAnswer) {
        points = points + puzzlePoints;
        updateStats();
        loadPuzzles();
        document.querySelector('.barrierAlert').innerHTML = 'Correct!';
        document.querySelector('.barrierAlert').style.color = 'green';
        setTimeout(() => {
            document.querySelector('.barrierAlert').innerHTML = '';
        document.querySelector('.barrierAlert').style.color = 'red';
        },2000)
    }
    else {
        document.querySelector('.barrierAlert').innerHTML = 'Incorrect';
        setTimeout(() => {
            document.querySelector('.barrierAlert').innerHTML = '';
            
},2000)}}

updateStats();
function updateStats() {
    document.querySelector('.points').innerHTML = `Points: ${points}`;
    document.querySelector('.ingame-zCredits').innerHTML = `zCredits: ${zCredits}`;
    document.querySelector('.enemies-killed').innerHTML = `Total # of Enemies Killed: ${totalEnemiesKilled}`;
    document.querySelector(".round-count").innerHTML = `Round ${round}`;
    document.querySelector('.round-record').innerHTML = `Record: Round ${roundRecord}`;
}

function checkRewardCode() {
    let rewardCodeInput = document.querySelector('.rewardCodeInput').value
    if (rewardCodeInput === 'test') {
        zCredits++;
    } else {
        alert('Code Invalid')
    }
    let zCreditsStorage = JSON.stringify(zCredits);
    localStorage.setItem('zCreditsJSON', zCreditsStorage);
    updateStats();
    document.querySelector('.zCreditsReminder').innerHTML = `zCredits: ${zCredits}`
}

function restartAccount() {
    if (confirm('Are you sure you want to completely reset your account?')) {
        localStorage.clear();
        location.reload(true);
    }
}

function gameOver() {
    if (subGameMode !== 'custom' && gameMode !== 'endless') {
    if (round > roundRecord) {
        roundRecord = round;
        localStorage.setItem('roundRecord', JSON.stringify(roundRecord));
    }
    zCredits += round - 1;
    localStorage.setItem('zCreditsJSON', zCredits);
}
    setTimeout(() => {
    alert('Game Over');
    location.reload(true)
    },1000);
}        
let deathInsuranceUsage = 'false'
function deathInsuranceCheck() {
    console.log('death Insurance called')
    if (deathInsuranceUsage === 'false') {
        deathInsuranceUsage = 'true';
        let kills = Number(totalEnemiesKilled);
        let deathInsuranceNums = 10;
        document.querySelector('.deathInsuranceCountdown').style.display = 'block';
        let secondChanceCountdown = setInterval(()=>{
            document.querySelector('.deathInsuranceCountdown').innerHTML = `<h1 style="color:darkred">${deathInsuranceNums}</h1>`
            deathInsuranceNums--;
        },1000)
        let secondChanceTimeout = setTimeout(()=>{
        if (kills === totalEnemiesKilled) {
            gameOver();
            clearTimeout(secondChanceCountdown);
            document.querySelector('.deathInsuranceCountdown').style.display = 'none';
        } else {
            document.querySelector('.deathInsuranceCountdown').style.display = 'none';
            clearTimeout(secondChanceCountdown);
        }},10000);
    } else {
        gameOver();
    }
}

function runGridCode() {
            if (gameMode === 'endless' && subGameMode === 'timed points') {
                document.querySelector('.puzzleGames').style.display = 'none';
                setInterval(() => {
                    console.log(points)
                    points++;
                    updateStats();
                },1500)
            }
            if (spell1.image) {
            document.querySelector(`.spellGameImage1`).src = `${spell1.image}`;
            }
            if (spell2.image) {
            document.querySelector(`.spellGameImage2`).src = `${spell2.image}`;
            }
            if (spell3.image) {
            document.querySelector(`.spellGameImage3`).src = `${spell3.image}`;
            }
            if (spell4.image) {
            document.querySelector(`.spellGameImage4`).src = `${spell4.image}`;
            }
            }
        
        /*NOTE*/
        //puzzle 6 animations are actually for puzzle 7

        /*Cheat Codes*/
        //<button onclick="points = points + 100">More points!</button>
        //<button class="invincibleCheat">Invincible</button>
        
        /*  ITEMS TO SEARCH FOR  */
        //Starting Screen
        //Spell Section
        //Gamemodes
        //Difficulty
        //Ability Section
        //Each square info
        //barriers
        //Spells In-game

        //Alternative Greeting//
        /*<div class="greeting">
        <h3 class="welcome">Welcome to</h3> <h1 class="name">THE GRID GAME</h1>
        <h1 class="startBtnSpeech"></h1>
        <button class="js-start-Btn" onclick="if (talkingBtnEvent > 80) {move()} else {goToMainMenu();}">Start</button>
        </div>*/
        </script>
    </body>
</html>
